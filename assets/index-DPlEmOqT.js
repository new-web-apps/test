const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-BeGKBQbw.js","assets/AboutView-C6Dx7pxG.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ta(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const Nt={},tr=[],Re=()=>{},Dd=()=>!1,di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ea=e=>e.startsWith("onUpdate:"),re=Object.assign,na=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xd=Object.prototype.hasOwnProperty,yt=(e,t)=>xd.call(e,t),ot=Array.isArray,er=e=>pi(e)==="[object Map]",Cu=e=>pi(e)==="[object Set]",lt=e=>typeof e=="function",Kt=e=>typeof e=="string",vn=e=>typeof e=="symbol",Ot=e=>e!==null&&typeof e=="object",Su=e=>(Ot(e)||lt(e))&&lt(e.then)&&lt(e.catch),Pu=Object.prototype.toString,pi=e=>Pu.call(e),Nd=e=>pi(e).slice(8,-1),Vu=e=>pi(e)==="[object Object]",ra=e=>Kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gr=ta(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Od=/-(\w)/g,Fn=gi(e=>e.replace(Od,(t,n)=>n?n.toUpperCase():"")),Md=/\B([A-Z])/g,zn=gi(e=>e.replace(Md,"-$1").toLowerCase()),Du=gi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qi=gi(e=>e?`on${Du(e)}`:""),gn=(e,t)=>!Object.is(e,t),Yi=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},xu=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},kd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ul;const Nu=()=>Ul||(Ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sa(e){if(ot(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Kt(r)?Bd(r):sa(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Kt(e)||Ot(e))return e}const Ld=/;(?![^(]*\))/g,Fd=/:([^]+)/,Ud=/\/\*[^]*?\*\//g;function Bd(e){const t={};return e.replace(Ud,"").split(Ld).forEach(n=>{if(n){const r=n.split(Fd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ia(e){let t="";if(Kt(e))t=e;else if(ot(e))for(let n=0;n<e.length;n++){const r=ia(e[n]);r&&(t+=r+" ")}else if(Ot(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jd=ta($d);function Ou(e){return!!e||e===""}const Mu=e=>!!(e&&e.__v_isRef===!0),oa=e=>Kt(e)?e:e==null?"":ot(e)||Ot(e)&&(e.toString===Pu||!lt(e.toString))?Mu(e)?oa(e.value):JSON.stringify(e,ku,2):String(e),ku=(e,t)=>Mu(t)?ku(e,t.value):er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Xi(r,i)+" =>"]=s,n),{})}:Cu(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xi(n))}:vn(t)?Xi(t):Ot(t)&&!ot(t)&&!Vu(t)?String(t):t,Xi=(e,t="")=>{var n;return vn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class Lu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Se;try{return Se=this,t()}finally{Se=n}}}on(){Se=this}off(){Se=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function zd(e){return new Lu(e)}function qd(e,t=Se){t&&t.active&&t.effects.push(e)}function Hd(){return Se}let Nn;class aa{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,qd(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,En();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Kd(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Tn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=hn,n=Nn;try{return hn=!0,Nn=this,this._runnings++,Bl(this),this.fn()}finally{$l(this),this._runnings--,Nn=n,hn=t}}stop(){this.active&&(Bl(this),$l(this),this.onStop&&this.onStop(),this.active=!1)}}function Kd(e){return e.value}function Bl(e){e._trackId++,e._depsLength=0}function $l(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Fu(e.deps[t],e);e.deps.length=e._depsLength}}function Fu(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let hn=!0,yo=0;const Uu=[];function En(){Uu.push(hn),hn=!1}function Tn(){const e=Uu.pop();hn=e===void 0?!0:e}function la(){yo++}function ca(){for(yo--;!yo&&vo.length;)vo.shift()()}function Bu(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Fu(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const vo=[];function $u(e,t,n){la();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&vo.push(r.scheduler)))}ca()}const ju=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Eo=new WeakMap,On=Symbol(""),To=Symbol("");function pe(e,t,n){if(hn&&Nn){let r=Eo.get(e);r||Eo.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=ju(()=>r.delete(n))),Bu(Nn,s)}}function Ke(e,t,n,r,s,i){const a=Eo.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&ot(e)){const u=Number(r);a.forEach((f,d)=>{(d==="length"||!vn(d)&&d>=u)&&l.push(f)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":ot(e)?ra(n)&&l.push(a.get("length")):(l.push(a.get(On)),er(e)&&l.push(a.get(To)));break;case"delete":ot(e)||(l.push(a.get(On)),er(e)&&l.push(a.get(To)));break;case"set":er(e)&&l.push(a.get(On));break}la();for(const u of l)u&&$u(u,4);ca()}const Gd=ta("__proto__,__v_isRef,__isVue"),zu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vn)),jl=Wd();function Wd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Rt(this);for(let i=0,a=this.length;i<a;i++)pe(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Rt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){En(),la();const r=Rt(this)[t].apply(this,n);return ca(),Tn(),r}}),e}function Qd(e){vn(e)||(e=String(e));const t=Rt(this);return pe(t,"has",e),t.hasOwnProperty(e)}class qu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?lp:Wu:i?Gu:Ku).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=ot(t);if(!s){if(a&&yt(jl,n))return Reflect.get(jl,n,r);if(n==="hasOwnProperty")return Qd}const l=Reflect.get(t,n,r);return(vn(n)?zu.has(n):Gd(n))||(s||pe(t,"get",n),i)?l:ge(l)?a&&ra(n)?l:l.value:Ot(l)?s?Yu(l):_i(l):l}}class Hu extends qu{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const u=Un(i);if(!lr(r)&&!Un(r)&&(i=Rt(i),r=Rt(r)),!ot(t)&&ge(i)&&!ge(r))return u?!1:(i.value=r,!0)}const a=ot(t)&&ra(n)?Number(n)<t.length:yt(t,n),l=Reflect.set(t,n,r,s);return t===Rt(s)&&(a?gn(r,i)&&Ke(t,"set",n,r):Ke(t,"add",n,r)),l}deleteProperty(t,n){const r=yt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ke(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!vn(n)||!zu.has(n))&&pe(t,"has",n),r}ownKeys(t){return pe(t,"iterate",ot(t)?"length":On),Reflect.ownKeys(t)}}class Yd extends qu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Xd=new Hu,Jd=new Yd,Zd=new Hu(!0);const ua=e=>e,mi=e=>Reflect.getPrototypeOf(e);function Ms(e,t,n=!1,r=!1){e=e.__v_raw;const s=Rt(e),i=Rt(t);n||(gn(t,i)&&pe(s,"get",t),pe(s,"get",i));const{has:a}=mi(s),l=r?ua:n?da:ss;if(a.call(s,t))return l(e.get(t));if(a.call(s,i))return l(e.get(i));e!==s&&e.get(t)}function ks(e,t=!1){const n=this.__v_raw,r=Rt(n),s=Rt(e);return t||(gn(e,s)&&pe(r,"has",e),pe(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ls(e,t=!1){return e=e.__v_raw,!t&&pe(Rt(e),"iterate",On),Reflect.get(e,"size",e)}function zl(e,t=!1){!t&&!lr(e)&&!Un(e)&&(e=Rt(e));const n=Rt(this);return mi(n).has.call(n,e)||(n.add(e),Ke(n,"add",e,e)),this}function ql(e,t,n=!1){!n&&!lr(t)&&!Un(t)&&(t=Rt(t));const r=Rt(this),{has:s,get:i}=mi(r);let a=s.call(r,e);a||(e=Rt(e),a=s.call(r,e));const l=i.call(r,e);return r.set(e,t),a?gn(t,l)&&Ke(r,"set",e,t):Ke(r,"add",e,t),this}function Hl(e){const t=Rt(this),{has:n,get:r}=mi(t);let s=n.call(t,e);s||(e=Rt(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ke(t,"delete",e,void 0),i}function Kl(){const e=Rt(this),t=e.size!==0,n=e.clear();return t&&Ke(e,"clear",void 0,void 0),n}function Fs(e,t){return function(r,s){const i=this,a=i.__v_raw,l=Rt(a),u=t?ua:e?da:ss;return!e&&pe(l,"iterate",On),a.forEach((f,d)=>r.call(s,u(f),u(d),i))}}function Us(e,t,n){return function(...r){const s=this.__v_raw,i=Rt(s),a=er(i),l=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,f=s[e](...r),d=n?ua:t?da:ss;return!t&&pe(i,"iterate",u?To:On),{next(){const{value:g,done:y}=f.next();return y?{value:g,done:y}:{value:l?[d(g[0]),d(g[1])]:d(g),done:y}},[Symbol.iterator](){return this}}}}function rn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function tp(){const e={get(i){return Ms(this,i)},get size(){return Ls(this)},has:ks,add:zl,set:ql,delete:Hl,clear:Kl,forEach:Fs(!1,!1)},t={get(i){return Ms(this,i,!1,!0)},get size(){return Ls(this)},has:ks,add(i){return zl.call(this,i,!0)},set(i,a){return ql.call(this,i,a,!0)},delete:Hl,clear:Kl,forEach:Fs(!1,!0)},n={get(i){return Ms(this,i,!0)},get size(){return Ls(this,!0)},has(i){return ks.call(this,i,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:Fs(!0,!1)},r={get(i){return Ms(this,i,!0,!0)},get size(){return Ls(this,!0)},has(i){return ks.call(this,i,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:Fs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Us(i,!1,!1),n[i]=Us(i,!0,!1),t[i]=Us(i,!1,!0),r[i]=Us(i,!0,!0)}),[e,n,t,r]}const[ep,np,rp,sp]=tp();function ha(e,t){const n=t?e?sp:rp:e?np:ep;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(yt(n,s)&&s in r?n:r,s,i)}const ip={get:ha(!1,!1)},op={get:ha(!1,!0)},ap={get:ha(!0,!1)};const Ku=new WeakMap,Gu=new WeakMap,Wu=new WeakMap,lp=new WeakMap;function cp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function up(e){return e.__v_skip||!Object.isExtensible(e)?0:cp(Nd(e))}function _i(e){return Un(e)?e:fa(e,!1,Xd,ip,Ku)}function Qu(e){return fa(e,!1,Zd,op,Gu)}function Yu(e){return fa(e,!0,Jd,ap,Wu)}function fa(e,t,n,r,s){if(!Ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=up(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return s.set(e,l),l}function Wr(e){return Un(e)?Wr(e.__v_raw):!!(e&&e.__v_isReactive)}function Un(e){return!!(e&&e.__v_isReadonly)}function lr(e){return!!(e&&e.__v_isShallow)}function Xu(e){return e?!!e.__v_raw:!1}function Rt(e){const t=e&&e.__v_raw;return t?Rt(t):e}function Ju(e){return Object.isExtensible(e)&&xu(e,"__v_skip",!0),e}const ss=e=>Ot(e)?_i(e):e,da=e=>Ot(e)?Yu(e):e;class Zu{constructor(t,n,r,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new aa(()=>t(this._value),()=>Ks(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Rt(this);return(!t._cacheable||t.effect.dirty)&&gn(t._value,t._value=t.effect.run())&&Ks(t,4),th(t),t.effect._dirtyLevel>=2&&Ks(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function hp(e,t,n=!1){let r,s;const i=lt(e);return i?(r=e,s=Re):(r=e.get,s=e.set),new Zu(r,s,i||!s,n)}function th(e){var t;hn&&Nn&&(e=Rt(e),Bu(Nn,(t=e.dep)!=null?t:e.dep=ju(()=>e.dep=void 0,e instanceof Zu?e:void 0)))}function Ks(e,t=4,n,r){e=Rt(e);const s=e.dep;s&&$u(s,t)}function ge(e){return!!(e&&e.__v_isRef===!0)}function pa(e){return eh(e,!1)}function fp(e){return eh(e,!0)}function eh(e,t){return ge(e)?e:new dp(e,t)}class dp{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Rt(t),this._value=n?t:ss(t)}get value(){return th(this),this._value}set value(t){const n=this.__v_isShallow||lr(t)||Un(t);t=n?t:Rt(t),gn(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:ss(t),Ks(this,4))}}function Ge(e){return ge(e)?e.value:e}const pp={get:(e,t,n)=>Ge(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ge(s)&&!ge(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function nh(e){return Wr(e)?e:new Proxy(e,pp)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(e,t,n,r){try{return r?e(...r):e()}catch(s){yi(s,t,n)}}function Ve(e,t,n,r){if(lt(e)){const s=fn(e,t,n,r);return s&&Su(s)&&s.catch(i=>{yi(i,t,n)}),s}if(ot(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Ve(e[i],t,n,r));return s}}function yi(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const f=i.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,a,l)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){En(),fn(u,null,10,[e,a,l]),Tn();return}}gp(e,n,s,r)}function gp(e,t,n,r=!0){console.error(e)}let is=!1,wo=!1;const ne=[];let ke=0;const nr=[];let on=null,Vn=0;const rh=Promise.resolve();let ga=null;function sh(e){const t=ga||rh;return e?t.then(this?e.bind(this):e):t}function mp(e){let t=ke+1,n=ne.length;for(;t<n;){const r=t+n>>>1,s=ne[r],i=os(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function ma(e){(!ne.length||!ne.includes(e,is&&e.allowRecurse?ke+1:ke))&&(e.id==null?ne.push(e):ne.splice(mp(e.id),0,e),ih())}function ih(){!is&&!wo&&(wo=!0,ga=rh.then(ah))}function _p(e){const t=ne.indexOf(e);t>ke&&ne.splice(t,1)}function yp(e){ot(e)?nr.push(...e):(!on||!on.includes(e,e.allowRecurse?Vn+1:Vn))&&nr.push(e),ih()}function Gl(e,t,n=is?ke+1:0){for(;n<ne.length;n++){const r=ne[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;ne.splice(n,1),n--,r()}}}function oh(e){if(nr.length){const t=[...new Set(nr)].sort((n,r)=>os(n)-os(r));if(nr.length=0,on){on.push(...t);return}for(on=t,Vn=0;Vn<on.length;Vn++){const n=on[Vn];n.active!==!1&&n()}on=null,Vn=0}}const os=e=>e.id==null?1/0:e.id,vp=(e,t)=>{const n=os(e)-os(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ah(e){wo=!1,is=!0,ne.sort(vp);try{for(ke=0;ke<ne.length;ke++){const t=ne[ke];t&&t.active!==!1&&fn(t,t.i,t.i?15:14)}}finally{ke=0,ne.length=0,oh(),is=!1,ga=null,(ne.length||nr.length)&&ah()}}let fe=null,vi=null;function ei(e){const t=fe;return fe=e,vi=e&&e.type.__scopeId||null,t}function lh(e){vi=e}function ch(){vi=null}function qt(e,t=fe,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ec(-1);const i=ei(t);let a;try{a=e(...s)}finally{ei(i),r._d&&ec(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Cn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(En(),Ve(u,n,8,[e.el,l,e,t]),Tn())}}function uh(e,t){e.shapeFlag&6&&e.component?uh(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function vr(e,t){return lt(e)?re({name:e.name},t,{setup:e}):e}const Qr=e=>!!e.type.__asyncLoader,hh=e=>e.type.__isKeepAlive;function Ep(e,t){fh(e,"a",t)}function Tp(e,t){fh(e,"da",t)}function fh(e,t,n=le){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ei(t,r,n),n){let s=n.parent;for(;s&&s.parent;)hh(s.parent.vnode)&&wp(r,t,n,s),s=s.parent}}function wp(e,t,n,r){const s=Ei(t,e,r,!0);ph(()=>{na(r[t],s)},n)}function Ei(e,t,n=le,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{En();const l=ms(n),u=Ve(t,n,e,a);return l(),Tn(),u});return r?s.unshift(i):s.push(i),i}}const Xe=e=>(t,n=le)=>{(!Ii||e==="sp")&&Ei(e,(...r)=>t(...r),n)},Ip=Xe("bm"),dh=Xe("m"),Ap=Xe("bu"),Rp=Xe("u"),bp=Xe("bum"),ph=Xe("um"),Cp=Xe("sp"),Sp=Xe("rtg"),Pp=Xe("rtc");function Vp(e,t=le){Ei("ec",e,t)}const Dp=Symbol.for("v-ndc");function Ji(e,t,n={},r,s){if(fe.isCE||fe.parent&&Qr(fe.parent)&&fe.parent.isCE)return t!=="default"&&(n.name=t),Ct("slot",n,r);let i=e[t];i&&i._c&&(i._d=!1),xe();const a=i&&gh(i(n)),l=ug(ve,{key:(n.key||a&&a.key||`_${t}`)+(!a&&r?"_fb":"")},a||[],a&&e._===1?64:-2);return i&&i._c&&(i._d=!0),l}function gh(e){return e.some(t=>ri(t)?!(t.type===cr||t.type===ve&&!gh(t.children)):!0)?e:null}const Io=e=>e?Oh(e)?Ea(e):Io(e.parent):null,Yr=re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Io(e.parent),$root:e=>Io(e.root),$emit:e=>e.emit,$options:e=>_a(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ma(e.update)}),$nextTick:e=>e.n||(e.n=sh.bind(e.proxy)),$watch:e=>tg.bind(e)}),Zi=(e,t)=>e!==Nt&&!e.__isScriptSetup&&yt(e,t),xp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:u}=e;let f;if(t[0]!=="$"){const w=a[t];if(w!==void 0)switch(w){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Zi(r,t))return a[t]=1,r[t];if(s!==Nt&&yt(s,t))return a[t]=2,s[t];if((f=e.propsOptions[0])&&yt(f,t))return a[t]=3,i[t];if(n!==Nt&&yt(n,t))return a[t]=4,n[t];Ao&&(a[t]=0)}}const d=Yr[t];let g,y;if(d)return t==="$attrs"&&pe(e.attrs,"get",""),d(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(n!==Nt&&yt(n,t))return a[t]=4,n[t];if(y=u.config.globalProperties,yt(y,t))return y[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Zi(s,t)?(s[t]=n,!0):r!==Nt&&yt(r,t)?(r[t]=n,!0):yt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!n[a]||e!==Nt&&yt(e,a)||Zi(t,a)||(l=i[0])&&yt(l,a)||yt(r,a)||yt(Yr,a)||yt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:yt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Wl(e){return ot(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ao=!0;function Np(e){const t=_a(e),n=e.proxy,r=e.ctx;Ao=!1,t.beforeCreate&&Ql(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:u,inject:f,created:d,beforeMount:g,mounted:y,beforeUpdate:w,updated:x,activated:N,deactivated:L,beforeDestroy:Q,beforeUnmount:H,destroyed:$,unmounted:st,render:It,renderTracked:tt,renderTriggered:I,errorCaptured:_,serverPrefetch:T,expose:A,inheritAttrs:R,components:b,directives:E,filters:se}=t;if(f&&Op(f,r,null),a)for(const dt in a){const ut=a[dt];lt(ut)&&(r[dt]=ut.bind(n))}if(s){const dt=s.call(n,n);Ot(dt)&&(e.data=_i(dt))}if(Ao=!0,i)for(const dt in i){const ut=i[dt],me=lt(ut)?ut.bind(n,n):lt(ut.get)?ut.get.bind(n,n):Re,be=!lt(ut)&&lt(ut.set)?ut.set.bind(n):Re,we=Pe({get:me,set:be});Object.defineProperty(r,dt,{enumerable:!0,configurable:!0,get:()=>we.value,set:Dt=>we.value=Dt})}if(l)for(const dt in l)mh(l[dt],r,n,dt);if(u){const dt=lt(u)?u.call(n):u;Reflect.ownKeys(dt).forEach(ut=>{Gs(ut,dt[ut])})}d&&Ql(d,e,"c");function Bt(dt,ut){ot(ut)?ut.forEach(me=>dt(me.bind(n))):ut&&dt(ut.bind(n))}if(Bt(Ip,g),Bt(dh,y),Bt(Ap,w),Bt(Rp,x),Bt(Ep,N),Bt(Tp,L),Bt(Vp,_),Bt(Pp,tt),Bt(Sp,I),Bt(bp,H),Bt(ph,st),Bt(Cp,T),ot(A))if(A.length){const dt=e.exposed||(e.exposed={});A.forEach(ut=>{Object.defineProperty(dt,ut,{get:()=>n[ut],set:me=>n[ut]=me})})}else e.exposed||(e.exposed={});It&&e.render===Re&&(e.render=It),R!=null&&(e.inheritAttrs=R),b&&(e.components=b),E&&(e.directives=E)}function Op(e,t,n=Re){ot(e)&&(e=Ro(e));for(const r in e){const s=e[r];let i;Ot(s)?"default"in s?i=We(s.from||r,s.default,!0):i=We(s.from||r):i=We(s),ge(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function Ql(e,t,n){Ve(ot(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function mh(e,t,n,r){const s=r.includes(".")?Vh(n,r):()=>n[r];if(Kt(e)){const i=t[e];lt(i)&&Ws(s,i)}else if(lt(e))Ws(s,e.bind(n));else if(Ot(e))if(ot(e))e.forEach(i=>mh(i,t,n,r));else{const i=lt(e.handler)?e.handler.bind(n):t[e.handler];lt(i)&&Ws(s,i,e)}}function _a(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let u;return l?u=l:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(f=>ni(u,f,a,!0)),ni(u,t,a)),Ot(t)&&i.set(t,u),u}function ni(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&ni(e,i,n,!0),s&&s.forEach(a=>ni(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=Mp[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Mp={data:Yl,props:Xl,emits:Xl,methods:zr,computed:zr,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:zr,directives:zr,watch:Lp,provide:Yl,inject:kp};function Yl(e,t){return t?e?function(){return re(lt(e)?e.call(this,this):e,lt(t)?t.call(this,this):t)}:t:e}function kp(e,t){return zr(Ro(e),Ro(t))}function Ro(e){if(ot(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ae(e,t){return e?[...new Set([].concat(e,t))]:t}function zr(e,t){return e?re(Object.create(null),e,t):t}function Xl(e,t){return e?ot(e)&&ot(t)?[...new Set([...e,...t])]:re(Object.create(null),Wl(e),Wl(t??{})):t}function Lp(e,t){if(!e)return t;if(!t)return e;const n=re(Object.create(null),e);for(const r in t)n[r]=ae(e[r],t[r]);return n}function _h(){return{app:null,config:{isNativeTag:Dd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fp=0;function Up(e,t){return function(r,s=null){lt(r)||(r=re({},r)),s!=null&&!Ot(s)&&(s=null);const i=_h(),a=new WeakSet;let l=!1;const u=i.app={_uid:Fp++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:wg,get config(){return i.config},set config(f){},use(f,...d){return a.has(f)||(f&&lt(f.install)?(a.add(f),f.install(u,...d)):lt(f)&&(a.add(f),f(u,...d))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,d){return d?(i.components[f]=d,u):i.components[f]},directive(f,d){return d?(i.directives[f]=d,u):i.directives[f]},mount(f,d,g){if(!l){const y=Ct(r,s);return y.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),d&&t?t(y,f):e(y,f,g),l=!0,u._container=f,f.__vue_app__=u,Ea(y.component)}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(f,d){return i.provides[f]=d,u},runWithContext(f){const d=rr;rr=u;try{return f()}finally{rr=d}}};return u}}let rr=null;function Gs(e,t){if(le){let n=le.provides;const r=le.parent&&le.parent.provides;r===n&&(n=le.provides=Object.create(r)),n[e]=t}}function We(e,t,n=!1){const r=le||fe;if(r||rr){const s=rr?rr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&lt(t)?t.call(r&&r.proxy):t}}const yh={},vh=()=>Object.create(yh),Eh=e=>Object.getPrototypeOf(e)===yh;function Bp(e,t,n,r=!1){const s={},i=vh();e.propsDefaults=Object.create(null),Th(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Qu(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function $p(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=Rt(s),[u]=e.propsOptions;let f=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let y=d[g];if(Ti(e.emitsOptions,y))continue;const w=t[y];if(u)if(yt(i,y))w!==i[y]&&(i[y]=w,f=!0);else{const x=Fn(y);s[x]=bo(u,l,x,w,e,!1)}else w!==i[y]&&(i[y]=w,f=!0)}}}else{Th(e,t,s,i)&&(f=!0);let d;for(const g in l)(!t||!yt(t,g)&&((d=zn(g))===g||!yt(t,d)))&&(u?n&&(n[g]!==void 0||n[d]!==void 0)&&(s[g]=bo(u,l,g,void 0,e,!0)):delete s[g]);if(i!==l)for(const g in i)(!t||!yt(t,g))&&(delete i[g],f=!0)}f&&Ke(e.attrs,"set","")}function Th(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let u in t){if(Gr(u))continue;const f=t[u];let d;s&&yt(s,d=Fn(u))?!i||!i.includes(d)?n[d]=f:(l||(l={}))[d]=f:Ti(e.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,a=!0)}if(i){const u=Rt(n),f=l||Nt;for(let d=0;d<i.length;d++){const g=i[d];n[g]=bo(s,u,g,f[g],e,!yt(f,g))}}return a}function bo(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=yt(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&lt(u)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const d=ms(s);r=f[n]=u.call(null,t),d()}}else r=u}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===zn(n))&&(r=!0))}return r}const jp=new WeakMap;function wh(e,t,n=!1){const r=n?jp:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let u=!1;if(!lt(e)){const d=g=>{u=!0;const[y,w]=wh(g,t,!0);re(a,y),w&&l.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return Ot(e)&&r.set(e,tr),tr;if(ot(i))for(let d=0;d<i.length;d++){const g=Fn(i[d]);Jl(g)&&(a[g]=Nt)}else if(i)for(const d in i){const g=Fn(d);if(Jl(g)){const y=i[d],w=a[g]=ot(y)||lt(y)?{type:y}:re({},y),x=w.type;let N=!1,L=!0;if(ot(x))for(let Q=0;Q<x.length;++Q){const H=x[Q],$=lt(H)&&H.name;if($==="Boolean"){N=!0;break}else $==="String"&&(L=!1)}else N=lt(x)&&x.name==="Boolean";w[0]=N,w[1]=L,(N||yt(w,"default"))&&l.push(g)}}const f=[a,l];return Ot(e)&&r.set(e,f),f}function Jl(e){return e[0]!=="$"&&!Gr(e)}const Ih=e=>e[0]==="_"||e==="$stable",ya=e=>ot(e)?e.map(Me):[Me(e)],zp=(e,t,n)=>{if(t._n)return t;const r=qt((...s)=>ya(t(...s)),n);return r._c=!1,r},Ah=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ih(s))continue;const i=e[s];if(lt(i))t[s]=zp(s,i,r);else if(i!=null){const a=ya(i);t[s]=()=>a}}},Rh=(e,t)=>{const n=ya(t);e.slots.default=()=>n},bh=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},qp=(e,t,n)=>{const r=e.slots=vh();if(e.vnode.shapeFlag&32){const s=t._;s?(bh(r,t,n),n&&xu(r,"_",s,!0)):Ah(t,r)}else t&&Rh(e,t)},Hp=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Nt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:bh(s,t,n):(i=!t.$stable,Ah(t,s)),a=t}else t&&(Rh(e,t),a={default:1});if(i)for(const l in s)!Ih(l)&&a[l]==null&&delete s[l]};function Co(e,t,n,r,s=!1){if(ot(e)){e.forEach((y,w)=>Co(y,t&&(ot(t)?t[w]:t),n,r,s));return}if(Qr(r)&&!s)return;const i=r.shapeFlag&4?Ea(r.component):r.el,a=s?null:i,{i:l,r:u}=e,f=t&&t.r,d=l.refs===Nt?l.refs={}:l.refs,g=l.setupState;if(f!=null&&f!==u&&(Kt(f)?(d[f]=null,yt(g,f)&&(g[f]=null)):ge(f)&&(f.value=null)),lt(u))fn(u,l,12,[a,d]);else{const y=Kt(u),w=ge(u);if(y||w){const x=()=>{if(e.f){const N=y?yt(g,u)?g[u]:d[u]:u.value;s?ot(N)&&na(N,i):ot(N)?N.includes(i)||N.push(i):y?(d[u]=[i],yt(g,u)&&(g[u]=d[u])):(u.value=[i],e.k&&(d[e.k]=u.value))}else y?(d[u]=a,yt(g,u)&&(g[u]=a)):w&&(u.value=a,e.k&&(d[e.k]=a))};a?(x.id=-1,he(x,n)):x()}}}const Kp=Symbol("_vte"),Gp=e=>e.__isTeleport,he=lg;function Wp(e){return Qp(e)}function Qp(e,t){const n=Nu();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:u,setText:f,setElementText:d,parentNode:g,nextSibling:y,setScopeId:w=Re,insertStaticContent:x}=e,N=(m,v,S,O=null,V=null,F=null,z=void 0,U=null,j=!!v.dynamicChildren)=>{if(m===v)return;m&&!Ur(m,v)&&(O=D(m),Dt(m,V,F,!0),m=null),v.patchFlag===-2&&(j=!1,v.dynamicChildren=null);const{type:k,ref:G,shapeFlag:et}=v;switch(k){case wi:L(m,v,S,O);break;case cr:Q(m,v,S,O);break;case no:m==null&&H(v,S,O,z);break;case ve:b(m,v,S,O,V,F,z,U,j);break;default:et&1?It(m,v,S,O,V,F,z,U,j):et&6?E(m,v,S,O,V,F,z,U,j):(et&64||et&128)&&k.process(m,v,S,O,V,F,z,U,j,Y)}G!=null&&V&&Co(G,m&&m.ref,F,v||m,!v)},L=(m,v,S,O)=>{if(m==null)r(v.el=l(v.children),S,O);else{const V=v.el=m.el;v.children!==m.children&&f(V,v.children)}},Q=(m,v,S,O)=>{m==null?r(v.el=u(v.children||""),S,O):v.el=m.el},H=(m,v,S,O)=>{[m.el,m.anchor]=x(m.children,v,S,O,m.el,m.anchor)},$=({el:m,anchor:v},S,O)=>{let V;for(;m&&m!==v;)V=y(m),r(m,S,O),m=V;r(v,S,O)},st=({el:m,anchor:v})=>{let S;for(;m&&m!==v;)S=y(m),s(m),m=S;s(v)},It=(m,v,S,O,V,F,z,U,j)=>{v.type==="svg"?z="svg":v.type==="math"&&(z="mathml"),m==null?tt(v,S,O,V,F,z,U,j):T(m,v,V,F,z,U,j)},tt=(m,v,S,O,V,F,z,U)=>{let j,k;const{props:G,shapeFlag:et,transition:Z,dirs:J}=m;if(j=m.el=a(m.type,F,G&&G.is,G),et&8?d(j,m.children):et&16&&_(m.children,j,null,O,V,to(m,F),z,U),J&&Cn(m,null,O,"created"),I(j,m,m.scopeId,z,O),G){for(const At in G)At!=="value"&&!Gr(At)&&i(j,At,null,G[At],F,O);"value"in G&&i(j,"value",null,G.value,F),(k=G.onVnodeBeforeMount)&&Oe(k,O,m)}J&&Cn(m,null,O,"beforeMount");const nt=Yp(V,Z);nt&&Z.beforeEnter(j),r(j,v,S),((k=G&&G.onVnodeMounted)||nt||J)&&he(()=>{k&&Oe(k,O,m),nt&&Z.enter(j),J&&Cn(m,null,O,"mounted")},V)},I=(m,v,S,O,V)=>{if(S&&w(m,S),O)for(let F=0;F<O.length;F++)w(m,O[F]);if(V){let F=V.subTree;if(v===F){const z=V.vnode;I(m,z,z.scopeId,z.slotScopeIds,V.parent)}}},_=(m,v,S,O,V,F,z,U,j=0)=>{for(let k=j;k<m.length;k++){const G=m[k]=U?an(m[k]):Me(m[k]);N(null,G,v,S,O,V,F,z,U)}},T=(m,v,S,O,V,F,z)=>{const U=v.el=m.el;let{patchFlag:j,dynamicChildren:k,dirs:G}=v;j|=m.patchFlag&16;const et=m.props||Nt,Z=v.props||Nt;let J;if(S&&Sn(S,!1),(J=Z.onVnodeBeforeUpdate)&&Oe(J,S,v,m),G&&Cn(v,m,S,"beforeUpdate"),S&&Sn(S,!0),(et.innerHTML&&Z.innerHTML==null||et.textContent&&Z.textContent==null)&&d(U,""),k?A(m.dynamicChildren,k,U,S,O,to(v,V),F):z||ut(m,v,U,null,S,O,to(v,V),F,!1),j>0){if(j&16)R(U,et,Z,S,V);else if(j&2&&et.class!==Z.class&&i(U,"class",null,Z.class,V),j&4&&i(U,"style",et.style,Z.style,V),j&8){const nt=v.dynamicProps;for(let At=0;At<nt.length;At++){const _t=nt[At],Lt=et[_t],_e=Z[_t];(_e!==Lt||_t==="value")&&i(U,_t,Lt,_e,V,S)}}j&1&&m.children!==v.children&&d(U,v.children)}else!z&&k==null&&R(U,et,Z,S,V);((J=Z.onVnodeUpdated)||G)&&he(()=>{J&&Oe(J,S,v,m),G&&Cn(v,m,S,"updated")},O)},A=(m,v,S,O,V,F,z)=>{for(let U=0;U<v.length;U++){const j=m[U],k=v[U],G=j.el&&(j.type===ve||!Ur(j,k)||j.shapeFlag&70)?g(j.el):S;N(j,k,G,null,O,V,F,z,!0)}},R=(m,v,S,O,V)=>{if(v!==S){if(v!==Nt)for(const F in v)!Gr(F)&&!(F in S)&&i(m,F,v[F],null,V,O);for(const F in S){if(Gr(F))continue;const z=S[F],U=v[F];z!==U&&F!=="value"&&i(m,F,U,z,V,O)}"value"in S&&i(m,"value",v.value,S.value,V)}},b=(m,v,S,O,V,F,z,U,j)=>{const k=v.el=m?m.el:l(""),G=v.anchor=m?m.anchor:l("");let{patchFlag:et,dynamicChildren:Z,slotScopeIds:J}=v;J&&(U=U?U.concat(J):J),m==null?(r(k,S,O),r(G,S,O),_(v.children||[],S,G,V,F,z,U,j)):et>0&&et&64&&Z&&m.dynamicChildren?(A(m.dynamicChildren,Z,S,V,F,z,U),(v.key!=null||V&&v===V.subTree)&&Ch(m,v,!0)):ut(m,v,S,G,V,F,z,U,j)},E=(m,v,S,O,V,F,z,U,j)=>{v.slotScopeIds=U,m==null?v.shapeFlag&512?V.ctx.activate(v,S,O,z,j):se(v,S,O,V,F,z,j):Te(m,v,j)},se=(m,v,S,O,V,F,z)=>{const U=m.component=mg(m,O,V);if(hh(m)&&(U.ctx.renderer=Y),_g(U,!1,z),U.asyncDep){if(V&&V.registerDep(U,Bt,z),!m.el){const j=U.subTree=Ct(cr);Q(null,j,v,S)}}else Bt(U,m,v,S,V,F,z)},Te=(m,v,S)=>{const O=v.component=m.component;if(ig(m,v,S))if(O.asyncDep&&!O.asyncResolved){dt(O,v,S);return}else O.next=v,_p(O.update),O.effect.dirty=!0,O.update();else v.el=m.el,O.vnode=v},Bt=(m,v,S,O,V,F,z)=>{const U=()=>{if(m.isMounted){let{next:G,bu:et,u:Z,parent:J,vnode:nt}=m;{const Ie=Sh(m);if(Ie){G&&(G.el=nt.el,dt(m,G,z)),Ie.asyncDep.then(()=>{m.isUnmounted||U()});return}}let At=G,_t;Sn(m,!1),G?(G.el=nt.el,dt(m,G,z)):G=nt,et&&Yi(et),(_t=G.props&&G.props.onVnodeBeforeUpdate)&&Oe(_t,J,G,nt),Sn(m,!0);const Lt=eo(m),_e=m.subTree;m.subTree=Lt,N(_e,Lt,g(_e.el),D(_e),m,V,F),G.el=Lt.el,At===null&&og(m,Lt.el),Z&&he(Z,V),(_t=G.props&&G.props.onVnodeUpdated)&&he(()=>Oe(_t,J,G,nt),V)}else{let G;const{el:et,props:Z}=v,{bm:J,m:nt,parent:At}=m,_t=Qr(v);if(Sn(m,!1),J&&Yi(J),!_t&&(G=Z&&Z.onVnodeBeforeMount)&&Oe(G,At,v),Sn(m,!0),et&&St){const Lt=()=>{m.subTree=eo(m),St(et,m.subTree,m,V,null)};_t?v.type.__asyncLoader().then(()=>!m.isUnmounted&&Lt()):Lt()}else{const Lt=m.subTree=eo(m);N(null,Lt,S,O,m,V,F),v.el=Lt.el}if(nt&&he(nt,V),!_t&&(G=Z&&Z.onVnodeMounted)){const Lt=v;he(()=>Oe(G,At,Lt),V)}(v.shapeFlag&256||At&&Qr(At.vnode)&&At.vnode.shapeFlag&256)&&m.a&&he(m.a,V),m.isMounted=!0,v=S=O=null}},j=m.effect=new aa(U,Re,()=>ma(k),m.scope),k=m.update=()=>{j.dirty&&j.run()};k.i=m,k.id=m.uid,Sn(m,!0),k()},dt=(m,v,S)=>{v.component=m;const O=m.vnode.props;m.vnode=v,m.next=null,$p(m,v.props,O,S),Hp(m,v.children,S),En(),Gl(m),Tn()},ut=(m,v,S,O,V,F,z,U,j=!1)=>{const k=m&&m.children,G=m?m.shapeFlag:0,et=v.children,{patchFlag:Z,shapeFlag:J}=v;if(Z>0){if(Z&128){be(k,et,S,O,V,F,z,U,j);return}else if(Z&256){me(k,et,S,O,V,F,z,U,j);return}}J&8?(G&16&&ue(k,V,F),et!==k&&d(S,et)):G&16?J&16?be(k,et,S,O,V,F,z,U,j):ue(k,V,F,!0):(G&8&&d(S,""),J&16&&_(et,S,O,V,F,z,U,j))},me=(m,v,S,O,V,F,z,U,j)=>{m=m||tr,v=v||tr;const k=m.length,G=v.length,et=Math.min(k,G);let Z;for(Z=0;Z<et;Z++){const J=v[Z]=j?an(v[Z]):Me(v[Z]);N(m[Z],J,S,null,V,F,z,U,j)}k>G?ue(m,V,F,!0,!1,et):_(v,S,O,V,F,z,U,j,et)},be=(m,v,S,O,V,F,z,U,j)=>{let k=0;const G=v.length;let et=m.length-1,Z=G-1;for(;k<=et&&k<=Z;){const J=m[k],nt=v[k]=j?an(v[k]):Me(v[k]);if(Ur(J,nt))N(J,nt,S,null,V,F,z,U,j);else break;k++}for(;k<=et&&k<=Z;){const J=m[et],nt=v[Z]=j?an(v[Z]):Me(v[Z]);if(Ur(J,nt))N(J,nt,S,null,V,F,z,U,j);else break;et--,Z--}if(k>et){if(k<=Z){const J=Z+1,nt=J<G?v[J].el:O;for(;k<=Z;)N(null,v[k]=j?an(v[k]):Me(v[k]),S,nt,V,F,z,U,j),k++}}else if(k>Z)for(;k<=et;)Dt(m[k],V,F,!0),k++;else{const J=k,nt=k,At=new Map;for(k=nt;k<=Z;k++){const ie=v[k]=j?an(v[k]):Me(v[k]);ie.key!=null&&At.set(ie.key,k)}let _t,Lt=0;const _e=Z-nt+1;let Ie=!1,Rr=0;const Ze=new Array(_e);for(k=0;k<_e;k++)Ze[k]=0;for(k=J;k<=et;k++){const ie=m[k];if(Lt>=_e){Dt(ie,V,F,!0);continue}let Ae;if(ie.key!=null)Ae=At.get(ie.key);else for(_t=nt;_t<=Z;_t++)if(Ze[_t-nt]===0&&Ur(ie,v[_t])){Ae=_t;break}Ae===void 0?Dt(ie,V,F,!0):(Ze[Ae-nt]=k+1,Ae>=Rr?Rr=Ae:Ie=!0,N(ie,v[Ae],S,null,V,F,z,U,j),Lt++)}const qn=Ie?Xp(Ze):tr;for(_t=qn.length-1,k=_e-1;k>=0;k--){const ie=nt+k,Ae=v[ie],Hn=ie+1<G?v[ie+1].el:O;Ze[k]===0?N(null,Ae,S,Hn,V,F,z,U,j):Ie&&(_t<0||k!==qn[_t]?we(Ae,S,Hn,2):_t--)}}},we=(m,v,S,O,V=null)=>{const{el:F,type:z,transition:U,children:j,shapeFlag:k}=m;if(k&6){we(m.component.subTree,v,S,O);return}if(k&128){m.suspense.move(v,S,O);return}if(k&64){z.move(m,v,S,Y);return}if(z===ve){r(F,v,S);for(let et=0;et<j.length;et++)we(j[et],v,S,O);r(m.anchor,v,S);return}if(z===no){$(m,v,S);return}if(O!==2&&k&1&&U)if(O===0)U.beforeEnter(F),r(F,v,S),he(()=>U.enter(F),V);else{const{leave:et,delayLeave:Z,afterLeave:J}=U,nt=()=>r(F,v,S),At=()=>{et(F,()=>{nt(),J&&J()})};Z?Z(F,nt,At):At()}else r(F,v,S)},Dt=(m,v,S,O=!1,V=!1)=>{const{type:F,props:z,ref:U,children:j,dynamicChildren:k,shapeFlag:G,patchFlag:et,dirs:Z,cacheIndex:J}=m;if(et===-2&&(V=!1),U!=null&&Co(U,null,S,m,!0),J!=null&&(v.renderCache[J]=void 0),G&256){v.ctx.deactivate(m);return}const nt=G&1&&Z,At=!Qr(m);let _t;if(At&&(_t=z&&z.onVnodeBeforeUnmount)&&Oe(_t,v,m),G&6)Ne(m.component,S,O);else{if(G&128){m.suspense.unmount(S,O);return}nt&&Cn(m,null,v,"beforeUnmount"),G&64?m.type.remove(m,v,S,Y,O):k&&!k.hasOnce&&(F!==ve||et>0&&et&64)?ue(k,v,S,!1,!0):(F===ve&&et&384||!V&&G&16)&&ue(j,v,S),O&&xt(m)}(At&&(_t=z&&z.onVnodeUnmounted)||nt)&&he(()=>{_t&&Oe(_t,v,m),nt&&Cn(m,null,v,"unmounted")},S)},xt=m=>{const{type:v,el:S,anchor:O,transition:V}=m;if(v===ve){Je(S,O);return}if(v===no){st(m);return}const F=()=>{s(S),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(m.shapeFlag&1&&V&&!V.persisted){const{leave:z,delayLeave:U}=V,j=()=>z(S,F);U?U(m.el,F,j):j()}else F()},Je=(m,v)=>{let S;for(;m!==v;)S=y(m),s(m),m=S;s(v)},Ne=(m,v,S)=>{const{bum:O,scope:V,update:F,subTree:z,um:U,m:j,a:k}=m;Zl(j),Zl(k),O&&Yi(O),V.stop(),F&&(F.active=!1,Dt(z,m,v,S)),U&&he(U,v),he(()=>{m.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},ue=(m,v,S,O=!1,V=!1,F=0)=>{for(let z=F;z<m.length;z++)Dt(m[z],v,S,O,V)},D=m=>{if(m.shapeFlag&6)return D(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const v=y(m.anchor||m.el),S=v&&v[Kp];return S?y(S):v};let W=!1;const K=(m,v,S)=>{m==null?v._vnode&&Dt(v._vnode,null,null,!0):N(v._vnode||null,m,v,null,null,null,S),v._vnode=m,W||(W=!0,Gl(),oh(),W=!1)},Y={p:N,um:Dt,m:we,r:xt,mt:se,mc:_,pc:ut,pbc:A,n:D,o:e};let pt,St;return{render:K,hydrate:pt,createApp:Up(K,pt)}}function to({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Sn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Yp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ch(e,t,n=!1){const r=e.children,s=t.children;if(ot(r)&&ot(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=an(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Ch(a,l)),l.type===wi&&(l.el=a.el)}}function Xp(e){const t=e.slice(),n=[0];let r,s,i,a,l;const u=e.length;for(r=0;r<u;r++){const f=e[r];if(f!==0){if(s=n[n.length-1],e[s]<f){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<f?i=l+1:a=l;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Sh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sh(t)}function Zl(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const Jp=Symbol.for("v-scx"),Zp=()=>We(Jp),Bs={};function Ws(e,t,n){return Ph(e,t,n)}function Ph(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:a,onTrigger:l}=Nt){if(t&&i){const tt=t;t=(...I)=>{tt(...I),It()}}const u=le,f=tt=>r===!0?tt:Dn(tt,r===!1?1:void 0);let d,g=!1,y=!1;if(ge(e)?(d=()=>e.value,g=lr(e)):Wr(e)?(d=()=>f(e),g=!0):ot(e)?(y=!0,g=e.some(tt=>Wr(tt)||lr(tt)),d=()=>e.map(tt=>{if(ge(tt))return tt.value;if(Wr(tt))return f(tt);if(lt(tt))return fn(tt,u,2)})):lt(e)?t?d=()=>fn(e,u,2):d=()=>(w&&w(),Ve(e,u,3,[x])):d=Re,t&&r){const tt=d;d=()=>Dn(tt())}let w,x=tt=>{w=$.onStop=()=>{fn(tt,u,4),w=$.onStop=void 0}},N;if(Ii)if(x=Re,t?n&&Ve(t,u,3,[d(),y?[]:void 0,x]):d(),s==="sync"){const tt=Zp();N=tt.__watcherHandles||(tt.__watcherHandles=[])}else return Re;let L=y?new Array(e.length).fill(Bs):Bs;const Q=()=>{if(!(!$.active||!$.dirty))if(t){const tt=$.run();(r||g||(y?tt.some((I,_)=>gn(I,L[_])):gn(tt,L)))&&(w&&w(),Ve(t,u,3,[tt,L===Bs?void 0:y&&L[0]===Bs?[]:L,x]),L=tt)}else $.run()};Q.allowRecurse=!!t;let H;s==="sync"?H=Q:s==="post"?H=()=>he(Q,u&&u.suspense):(Q.pre=!0,u&&(Q.id=u.uid),H=()=>ma(Q));const $=new aa(d,Re,H),st=Hd(),It=()=>{$.stop(),st&&na(st.effects,$)};return t?n?Q():L=$.run():s==="post"?he($.run.bind($),u&&u.suspense):$.run(),N&&N.push(It),It}function tg(e,t,n){const r=this.proxy,s=Kt(e)?e.includes(".")?Vh(r,e):()=>r[e]:e.bind(r,r);let i;lt(t)?i=t:(i=t.handler,n=t);const a=ms(this),l=Ph(s,i.bind(r),n);return a(),l}function Vh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Dn(e,t=1/0,n){if(t<=0||!Ot(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ge(e))Dn(e.value,t,n);else if(ot(e))for(let r=0;r<e.length;r++)Dn(e[r],t,n);else if(Cu(e)||er(e))e.forEach(r=>{Dn(r,t,n)});else if(Vu(e)){for(const r in e)Dn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Dn(e[r],t,n)}return e}const eg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fn(t)}Modifiers`]||e[`${zn(t)}Modifiers`];function ng(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nt;let s=n;const i=t.startsWith("update:"),a=i&&eg(r,t.slice(7));a&&(a.trim&&(s=n.map(d=>Kt(d)?d.trim():d)),a.number&&(s=n.map(kd)));let l,u=r[l=Qi(t)]||r[l=Qi(Fn(t))];!u&&i&&(u=r[l=Qi(zn(t))]),u&&Ve(u,e,6,s);const f=r[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ve(f,e,6,s)}}function Dh(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!lt(e)){const u=f=>{const d=Dh(f,t,!0);d&&(l=!0,re(a,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(Ot(e)&&r.set(e,null),null):(ot(i)?i.forEach(u=>a[u]=null):re(a,i),Ot(e)&&r.set(e,a),a)}function Ti(e,t){return!e||!di(t)?!1:(t=t.slice(2).replace(/Once$/,""),yt(e,t[0].toLowerCase()+t.slice(1))||yt(e,zn(t))||yt(e,t))}function eo(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:u,render:f,renderCache:d,props:g,data:y,setupState:w,ctx:x,inheritAttrs:N}=e,L=ei(e);let Q,H;try{if(n.shapeFlag&4){const st=s||r,It=st;Q=Me(f.call(It,st,d,g,w,y,x)),H=l}else{const st=t;Q=Me(st.length>1?st(g,{attrs:l,slots:a,emit:u}):st(g,null)),H=t.props?l:rg(l)}}catch(st){Xr.length=0,yi(st,e,1),Q=Ct(cr)}let $=Q;if(H&&N!==!1){const st=Object.keys(H),{shapeFlag:It}=$;st.length&&It&7&&(i&&st.some(ea)&&(H=sg(H,i)),$=ur($,H,!1,!0))}return n.dirs&&($=ur($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),Q=$,ei(L),Q}const rg=e=>{let t;for(const n in e)(n==="class"||n==="style"||di(n))&&((t||(t={}))[n]=e[n]);return t},sg=(e,t)=>{const n={};for(const r in e)(!ea(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ig(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:u}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?tc(r,a,f):!!a;if(u&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const y=d[g];if(a[y]!==r[y]&&!Ti(f,y))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?tc(r,a,f):!0:!!a;return!1}function tc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Ti(n,i))return!0}return!1}function og({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ag=e=>e.__isSuspense;function lg(e,t){t&&t.pendingBranch?ot(e)?t.effects.push(...e):t.effects.push(e):yp(e)}const ve=Symbol.for("v-fgt"),wi=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),no=Symbol.for("v-stc"),Xr=[];let Ee=null;function xe(e=!1){Xr.push(Ee=e?null:[])}function cg(){Xr.pop(),Ee=Xr[Xr.length-1]||null}let as=1;function ec(e){as+=e,e<0&&Ee&&(Ee.hasOnce=!0)}function xh(e){return e.dynamicChildren=as>0?Ee||tr:null,cg(),as>0&&Ee&&Ee.push(e),e}function $e(e,t,n,r,s,i){return xh(ht(e,t,n,r,s,i,!0))}function ug(e,t,n,r,s){return xh(Ct(e,t,n,r,s,!0))}function ri(e){return e?e.__v_isVNode===!0:!1}function Ur(e,t){return e.type===t.type&&e.key===t.key}const Nh=({key:e})=>e??null,Qs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Kt(e)||ge(e)||lt(e)?{i:fe,r:e,k:t,f:!!n}:e:null);function ht(e,t=null,n=null,r=0,s=null,i=e===ve?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nh(t),ref:t&&Qs(t),scopeId:vi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:fe};return l?(va(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Kt(n)?8:16),as>0&&!a&&Ee&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Ee.push(u),u}const Ct=hg;function hg(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Dp)&&(e=cr),ri(e)){const l=ur(e,t,!0);return n&&va(l,n),as>0&&!i&&Ee&&(l.shapeFlag&6?Ee[Ee.indexOf(e)]=l:Ee.push(l)),l.patchFlag=-2,l}if(Tg(e)&&(e=e.__vccOpts),t){t=fg(t);let{class:l,style:u}=t;l&&!Kt(l)&&(t.class=ia(l)),Ot(u)&&(Xu(u)&&!ot(u)&&(u=re({},u)),t.style=sa(u))}const a=Kt(e)?1:ag(e)?128:Gp(e)?64:Ot(e)?4:lt(e)?2:0;return ht(e,t,n,r,s,a,i,!0)}function fg(e){return e?Xu(e)||Eh(e)?re({},e):e:null}function ur(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:u}=e,f=t?dg(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Nh(f),ref:t&&t.ref?n&&i?ot(i)?i.concat(Qs(t)):[i,Qs(t)]:Qs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ur(e.ssContent),ssFallback:e.ssFallback&&ur(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&uh(d,u.clone(d)),d}function ft(e=" ",t=0){return Ct(wi,null,e,t)}function Me(e){return e==null||typeof e=="boolean"?Ct(cr):ot(e)?Ct(ve,null,e.slice()):typeof e=="object"?an(e):Ct(wi,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ur(e)}function va(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ot(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),va(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Eh(t)?t._ctx=fe:s===3&&fe&&(fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else lt(t)?(t={default:t,_ctx:fe},n=32):(t=String(t),r&64?(n=16,t=[ft(t)]):n=8);e.children=t,e.shapeFlag|=n}function dg(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ia([t.class,r.class]));else if(s==="style")t.style=sa([t.style,r.style]);else if(di(s)){const i=t[s],a=r[s];a&&i!==a&&!(ot(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function Oe(e,t,n,r=null){Ve(e,t,7,[n,r])}const pg=_h();let gg=0;function mg(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||pg,i={uid:gg++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wh(r,s),emitsOptions:Dh(r,s),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ng.bind(null,i),e.ce&&e.ce(i),i}let le=null,si,So;{const e=Nu(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};si=t("__VUE_INSTANCE_SETTERS__",n=>le=n),So=t("__VUE_SSR_SETTERS__",n=>Ii=n)}const ms=e=>{const t=le;return si(e),e.scope.on(),()=>{e.scope.off(),si(t)}},nc=()=>{le&&le.scope.off(),si(null)};function Oh(e){return e.vnode.shapeFlag&4}let Ii=!1;function _g(e,t=!1,n=!1){t&&So(t);const{props:r,children:s}=e.vnode,i=Oh(e);Bp(e,r,i,t),qp(e,s,n);const a=i?yg(e,t):void 0;return t&&So(!1),a}function yg(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xp);const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Eg(e):null,i=ms(e);En();const a=fn(r,e,0,[e.props,s]);if(Tn(),i(),Su(a)){if(a.then(nc,nc),t)return a.then(l=>{rc(e,l,t)}).catch(l=>{yi(l,e,0)});e.asyncDep=a}else rc(e,a,t)}else Mh(e,t)}function rc(e,t,n){lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ot(t)&&(e.setupState=nh(t)),Mh(e,n)}let sc;function Mh(e,t,n){const r=e.type;if(!e.render){if(!t&&sc&&!r.render){const s=r.template||_a(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,f=re(re({isCustomElement:i,delimiters:l},a),u);r.render=sc(s,f)}}e.render=r.render||Re}{const s=ms(e);En();try{Np(e)}finally{Tn(),s()}}}const vg={get(e,t){return pe(e,"get",""),e[t]}};function Eg(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vg),slots:e.slots,emit:e.emit,expose:t}}function Ea(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nh(Ju(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yr)return Yr[n](e)},has(t,n){return n in t||n in Yr}})):e.proxy}function Tg(e){return lt(e)&&"__vccOpts"in e}const Pe=(e,t)=>hp(e,t,Ii);function kh(e,t,n){const r=arguments.length;return r===2?Ot(t)&&!ot(t)?ri(t)?Ct(e,null,[t]):Ct(e,t):Ct(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ri(n)&&(n=[n]),Ct(e,t,n))}const wg="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ig="http://www.w3.org/2000/svg",Ag="http://www.w3.org/1998/Math/MathML",He=typeof document<"u"?document:null,ic=He&&He.createElement("template"),Rg={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?He.createElementNS(Ig,e):t==="mathml"?He.createElementNS(Ag,e):n?He.createElement(e,{is:n}):He.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>He.createTextNode(e),createComment:e=>He.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>He.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ic.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const l=ic.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},bg=Symbol("_vtc");function Cg(e,t,n){const r=e[bg];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const oc=Symbol("_vod"),Sg=Symbol("_vsh"),Pg=Symbol(""),Vg=/(^|;)\s*display\s*:/;function Dg(e,t,n){const r=e.style,s=Kt(n);let i=!1;if(n&&!s){if(t)if(Kt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Ys(r,l,"")}else for(const a in t)n[a]==null&&Ys(r,a,"");for(const a in n)a==="display"&&(i=!0),Ys(r,a,n[a])}else if(s){if(t!==n){const a=r[Pg];a&&(n+=";"+a),r.cssText=n,i=Vg.test(n)}}else t&&e.removeAttribute("style");oc in e&&(e[oc]=i?r.display:"",e[Sg]&&(r.display="none"))}const ac=/\s*!important$/;function Ys(e,t,n){if(ot(n))n.forEach(r=>Ys(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=xg(e,t);ac.test(n)?e.setProperty(zn(r),n.replace(ac,""),"important"):e[r]=n}}const lc=["Webkit","Moz","ms"],ro={};function xg(e,t){const n=ro[t];if(n)return n;let r=Fn(t);if(r!=="filter"&&r in e)return ro[t]=r;r=Du(r);for(let s=0;s<lc.length;s++){const i=lc[s]+r;if(i in e)return ro[t]=i}return t}const cc="http://www.w3.org/1999/xlink";function uc(e,t,n,r,s,i=jd(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(cc,t.slice(6,t.length)):e.setAttributeNS(cc,t,n):n==null||i&&!Ou(n)?e.removeAttribute(t):e.setAttribute(t,i?"":vn(n)?String(n):n)}function Ng(e,t,n,r){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Ou(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(t)}function Og(e,t,n,r){e.addEventListener(t,n,r)}function Mg(e,t,n,r){e.removeEventListener(t,n,r)}const hc=Symbol("_vei");function kg(e,t,n,r,s=null){const i=e[hc]||(e[hc]={}),a=i[t];if(r&&a)a.value=r;else{const[l,u]=Lg(t);if(r){const f=i[t]=Bg(r,s);Og(e,l,f,u)}else a&&(Mg(e,l,a,u),i[t]=void 0)}}const fc=/(?:Once|Passive|Capture)$/;function Lg(e){let t;if(fc.test(e)){t={};let r;for(;r=e.match(fc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zn(e.slice(2)),t]}let so=0;const Fg=Promise.resolve(),Ug=()=>so||(Fg.then(()=>so=0),so=Date.now());function Bg(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ve($g(r,n.value),t,5,[r])};return n.value=e,n.attached=Ug(),n}function $g(e,t){if(ot(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const dc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jg=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?Cg(e,r,a):t==="style"?Dg(e,n,r):di(t)?ea(t)||kg(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zg(e,t,r,a))?(Ng(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&uc(e,t,r,a,i,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),uc(e,t,r,a))};function zg(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&dc(t)&&lt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return dc(t)&&Kt(n)?!1:t in e}const qg=re({patchProp:jg},Rg);let pc;function Hg(){return pc||(pc=Wp(qg))}const Kg=(...e)=>{const t=Hg().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Wg(r);if(!s)return;const i=t._component;!lt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,Gg(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function Gg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Wg(e){return Kt(e)?document.querySelector(e):e}var Qg=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Yg=Symbol();var gc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(gc||(gc={}));function Xg(){const e=zd(!0),t=e.run(()=>pa({}));let n=[],r=[];const s=Ju({install(i){s._a=i,i.provide(Yg,s),i.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(i){return!this._a&&!Qg?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Jg="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e";/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Yn=typeof document<"u";function Zg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const bt=Object.assign;function io(e,t){const n={};for(const r in t){const s=t[r];n[r]=De(s)?s.map(e):e(s)}return n}const Jr=()=>{},De=Array.isArray,Lh=/#/g,tm=/&/g,em=/\//g,nm=/=/g,rm=/\?/g,Fh=/\+/g,sm=/%5B/g,im=/%5D/g,Uh=/%5E/g,om=/%60/g,Bh=/%7B/g,am=/%7C/g,$h=/%7D/g,lm=/%20/g;function Ta(e){return encodeURI(""+e).replace(am,"|").replace(sm,"[").replace(im,"]")}function cm(e){return Ta(e).replace(Bh,"{").replace($h,"}").replace(Uh,"^")}function Po(e){return Ta(e).replace(Fh,"%2B").replace(lm,"+").replace(Lh,"%23").replace(tm,"%26").replace(om,"`").replace(Bh,"{").replace($h,"}").replace(Uh,"^")}function um(e){return Po(e).replace(nm,"%3D")}function hm(e){return Ta(e).replace(Lh,"%23").replace(rm,"%3F")}function fm(e){return e==null?"":hm(e).replace(em,"%2F")}function ls(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const dm=/\/$/,pm=e=>e.replace(dm,"");function oo(e,t,n="/"){let r,s={},i="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=t.slice(0,u),i=t.slice(u+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=ym(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:ls(a)}}function gm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function mc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mm(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hr(t.matched[r],n.matched[s])&&jh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_m(e[n],t[n]))return!1;return!0}function _m(e,t){return De(e)?_c(e,t):De(t)?_c(t,e):e===t}function _c(e,t){return De(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ym(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var cs;(function(e){e.pop="pop",e.push="push"})(cs||(cs={}));var Zr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zr||(Zr={}));function vm(e){if(!e)if(Yn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pm(e)}const Em=/^[^#]+#/;function Tm(e,t){return e.replace(Em,"#")+t}function wm(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ai=()=>({left:window.scrollX,top:window.scrollY});function Im(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=wm(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function yc(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function Am(e,t){Vo.set(e,t)}function Rm(e){const t=Vo.get(e);return Vo.delete(e),t}let bm=()=>location.protocol+"//"+location.host;function zh(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let l=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),mc(u,"")}return mc(n,e)+r+s}function Cm(e,t,n,r){let s=[],i=[],a=null;const l=({state:y})=>{const w=zh(e,location),x=n.value,N=t.value;let L=0;if(y){if(n.value=w,t.value=y,a&&a===x){a=null;return}L=N?y.position-N.position:0}else r(w);s.forEach(Q=>{Q(n.value,x,{delta:L,type:cs.pop,direction:L?L>0?Zr.forward:Zr.back:Zr.unknown})})};function u(){a=n.value}function f(y){s.push(y);const w=()=>{const x=s.indexOf(y);x>-1&&s.splice(x,1)};return i.push(w),w}function d(){const{history:y}=window;y.state&&y.replaceState(bt({},y.state,{scroll:Ai()}),"")}function g(){for(const y of i)y();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:f,destroy:g}}function vc(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ai():null}}function Sm(e){const{history:t,location:n}=window,r={value:zh(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,f,d){const g=e.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:bm()+e+u;try{t[d?"replaceState":"pushState"](f,"",y),s.value=f}catch(w){console.error(w),n[d?"replace":"assign"](y)}}function a(u,f){const d=bt({},t.state,vc(s.value.back,u,s.value.forward,!0),f,{position:s.value.position});i(u,d,!0),r.value=u}function l(u,f){const d=bt({},s.value,t.state,{forward:u,scroll:Ai()});i(d.current,d,!0);const g=bt({},vc(r.value,u,null),{position:d.position+1},f);i(u,g,!1),r.value=u}return{location:r,state:s,push:l,replace:a}}function Pm(e){e=vm(e);const t=Sm(e),n=Cm(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=bt({location:"",base:e,go:r,createHref:Tm.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Vm(e){return typeof e=="string"||e&&typeof e=="object"}function qh(e){return typeof e=="string"||typeof e=="symbol"}const Hh=Symbol("");var Ec;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ec||(Ec={}));function fr(e,t){return bt(new Error,{type:e,[Hh]:!0},t)}function qe(e,t){return e instanceof Error&&Hh in e&&(t==null||!!(e.type&t))}const Tc="[^/]+?",Dm={sensitive:!1,strict:!1,start:!0,end:!0},xm=/[.+*?^${}()[\]/\\]/g;function Nm(e,t){const n=bt({},Dm,t),r=[];let s=n.start?"^":"";const i=[];for(const f of e){const d=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let g=0;g<f.length;g++){const y=f[g];let w=40+(n.sensitive?.25:0);if(y.type===0)g||(s+="/"),s+=y.value.replace(xm,"\\$&"),w+=40;else if(y.type===1){const{value:x,repeatable:N,optional:L,regexp:Q}=y;i.push({name:x,repeatable:N,optional:L});const H=Q||Tc;if(H!==Tc){w+=10;try{new RegExp(`(${H})`)}catch(st){throw new Error(`Invalid custom RegExp for param "${x}" (${H}): `+st.message)}}let $=N?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;g||($=L&&f.length<2?`(?:/${$})`:"/"+$),L&&($+="?"),s+=$,w+=20,L&&(w+=-8),N&&(w+=-20),H===".*"&&(w+=-50)}d.push(w)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(f){const d=f.match(a),g={};if(!d)return null;for(let y=1;y<d.length;y++){const w=d[y]||"",x=i[y-1];g[x.name]=w&&x.repeatable?w.split("/"):w}return g}function u(f){let d="",g=!1;for(const y of e){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const w of y)if(w.type===0)d+=w.value;else if(w.type===1){const{value:x,repeatable:N,optional:L}=w,Q=x in f?f[x]:"";if(De(Q)&&!N)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const H=De(Q)?Q.join("/"):Q;if(!H)if(L)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${x}"`);d+=H}}return d||"/"}return{re:a,score:r,keys:i,parse:l,stringify:u}}function Om(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Kh(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Om(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(wc(r))return 1;if(wc(s))return-1}return s.length-r.length}function wc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Mm={type:0,value:""},km=/[a-zA-Z0-9_]/;function Lm(e){if(!e)return[[]];if(e==="/")return[[Mm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${f}": ${w}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,u,f="",d="";function g(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),f="")}function y(){f+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(f&&g(),a()):u===":"?(g(),n=1):y();break;case 4:y(),n=r;break;case 1:u==="("?n=2:km.test(u)?y():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),g(),a(),s}function Fm(e,t,n){const r=Nm(Lm(e.path),n),s=bt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Um(e,t){const n=[],r=new Map;t=Rc({strict:!1,end:!0,sensitive:!1},t);function s(g){return r.get(g)}function i(g,y,w){const x=!w,N=Bm(g);N.aliasOf=w&&w.record;const L=Rc(t,g),Q=[N];if("alias"in g){const st=typeof g.alias=="string"?[g.alias]:g.alias;for(const It of st)Q.push(bt({},N,{components:w?w.record.components:N.components,path:It,aliasOf:w?w.record:N}))}let H,$;for(const st of Q){const{path:It}=st;if(y&&It[0]!=="/"){const tt=y.record.path,I=tt[tt.length-1]==="/"?"":"/";st.path=y.record.path+(It&&I+It)}if(H=Fm(st,y,L),w?w.alias.push(H):($=$||H,$!==H&&$.alias.push(H),x&&g.name&&!Ac(H)&&a(g.name)),Gh(H)&&u(H),N.children){const tt=N.children;for(let I=0;I<tt.length;I++)i(tt[I],H,w&&w.children[I])}w=w||H}return $?()=>{a($)}:Jr}function a(g){if(qh(g)){const y=r.get(g);y&&(r.delete(g),n.splice(n.indexOf(y),1),y.children.forEach(a),y.alias.forEach(a))}else{const y=n.indexOf(g);y>-1&&(n.splice(y,1),g.record.name&&r.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function u(g){const y=zm(g,n);n.splice(y,0,g),g.record.name&&!Ac(g)&&r.set(g.record.name,g)}function f(g,y){let w,x={},N,L;if("name"in g&&g.name){if(w=r.get(g.name),!w)throw fr(1,{location:g});L=w.record.name,x=bt(Ic(y.params,w.keys.filter($=>!$.optional).concat(w.parent?w.parent.keys.filter($=>$.optional):[]).map($=>$.name)),g.params&&Ic(g.params,w.keys.map($=>$.name))),N=w.stringify(x)}else if(g.path!=null)N=g.path,w=n.find($=>$.re.test(N)),w&&(x=w.parse(N),L=w.record.name);else{if(w=y.name?r.get(y.name):n.find($=>$.re.test(y.path)),!w)throw fr(1,{location:g,currentLocation:y});L=w.record.name,x=bt({},y.params,g.params),N=w.stringify(x)}const Q=[];let H=w;for(;H;)Q.unshift(H.record),H=H.parent;return{name:L,path:N,params:x,matched:Q,meta:jm(Q)}}e.forEach(g=>i(g));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:s}}function Ic(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Bm(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:$m(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function $m(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Ac(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jm(e){return e.reduce((t,n)=>bt(t,n.meta),{})}function Rc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function zm(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Kh(e,t[i])<0?r=i:n=i+1}const s=qm(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function qm(e){let t=e;for(;t=t.parent;)if(Gh(t)&&Kh(e,t)===0)return t}function Gh({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Hm(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Fh," "),a=i.indexOf("="),l=ls(a<0?i:i.slice(0,a)),u=a<0?null:ls(i.slice(a+1));if(l in t){let f=t[l];De(f)||(f=t[l]=[f]),f.push(u)}else t[l]=u}return t}function bc(e){let t="";for(let n in e){const r=e[n];if(n=um(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(De(r)?r.map(i=>i&&Po(i)):[r&&Po(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Km(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=De(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Gm=Symbol(""),Cc=Symbol(""),wa=Symbol(""),Wh=Symbol(""),Do=Symbol("");function Br(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ln(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const f=y=>{y===!1?u(fr(4,{from:n,to:t})):y instanceof Error?u(y):Vm(y)?u(fr(2,{from:t,to:y})):(a&&r.enterCallbacks[s]===a&&typeof y=="function"&&a.push(y),l())},d=i(()=>e.call(r&&r.instances[s],t,n,f));let g=Promise.resolve(d);e.length<3&&(g=g.then(f)),g.catch(y=>u(y))})}function ao(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Wm(u)){const d=(u.__vccOpts||u)[t];d&&i.push(ln(d,n,r,a,l,s))}else{let f=u();i.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const g=Zg(d)?d.default:d;a.components[l]=g;const w=(g.__vccOpts||g)[t];return w&&ln(w,n,r,a,l,s)()}))}}return i}function Wm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Sc(e){const t=We(wa),n=We(Wh),r=Pe(()=>{const u=Ge(e.to);return t.resolve(u)}),s=Pe(()=>{const{matched:u}=r.value,{length:f}=u,d=u[f-1],g=n.matched;if(!d||!g.length)return-1;const y=g.findIndex(hr.bind(null,d));if(y>-1)return y;const w=Pc(u[f-2]);return f>1&&Pc(d)===w&&g[g.length-1].path!==w?g.findIndex(hr.bind(null,u[f-2])):y}),i=Pe(()=>s.value>-1&&Xm(n.params,r.value.params)),a=Pe(()=>s.value>-1&&s.value===n.matched.length-1&&jh(n.params,r.value.params));function l(u={}){return Ym(u)?t[Ge(e.replace)?"replace":"push"](Ge(e.to)).catch(Jr):Promise.resolve()}return{route:r,href:Pe(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}const Qm=vr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sc,setup(e,{slots:t}){const n=_i(Sc(e)),{options:r}=We(wa),s=Pe(()=>({[Vc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Vc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:kh("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),xo=Qm;function Ym(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xm(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!De(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function Pc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Vc=(e,t,n)=>e??t??n,Jm=vr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=We(Do),s=Pe(()=>e.route||r.value),i=We(Cc,0),a=Pe(()=>{let f=Ge(i);const{matched:d}=s.value;let g;for(;(g=d[f])&&!g.components;)f++;return f}),l=Pe(()=>s.value.matched[a.value]);Gs(Cc,Pe(()=>a.value+1)),Gs(Gm,l),Gs(Do,s);const u=pa();return Ws(()=>[u.value,l.value,e.name],([f,d,g],[y,w,x])=>{d&&(d.instances[g]=f,w&&w!==d&&f&&f===y&&(d.leaveGuards.size||(d.leaveGuards=w.leaveGuards),d.updateGuards.size||(d.updateGuards=w.updateGuards))),f&&d&&(!w||!hr(d,w)||!y)&&(d.enterCallbacks[g]||[]).forEach(N=>N(f))},{flush:"post"}),()=>{const f=s.value,d=e.name,g=l.value,y=g&&g.components[d];if(!y)return Dc(n.default,{Component:y,route:f});const w=g.props[d],x=w?w===!0?f.params:typeof w=="function"?w(f):w:null,L=kh(y,bt({},x,t,{onVnodeUnmounted:Q=>{Q.component.isUnmounted&&(g.instances[d]=null)},ref:u}));return Dc(n.default,{Component:L,route:f})||L}}});function Dc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Qh=Jm;function Zm(e){const t=Um(e.routes,e),n=e.parseQuery||Hm,r=e.stringifyQuery||bc,s=e.history,i=Br(),a=Br(),l=Br(),u=fp(sn);let f=sn;Yn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=io.bind(null,D=>""+D),g=io.bind(null,fm),y=io.bind(null,ls);function w(D,W){let K,Y;return qh(D)?(K=t.getRecordMatcher(D),Y=W):Y=D,t.addRoute(Y,K)}function x(D){const W=t.getRecordMatcher(D);W&&t.removeRoute(W)}function N(){return t.getRoutes().map(D=>D.record)}function L(D){return!!t.getRecordMatcher(D)}function Q(D,W){if(W=bt({},W||u.value),typeof D=="string"){const v=oo(n,D,W.path),S=t.resolve({path:v.path},W),O=s.createHref(v.fullPath);return bt(v,S,{params:y(S.params),hash:ls(v.hash),redirectedFrom:void 0,href:O})}let K;if(D.path!=null)K=bt({},D,{path:oo(n,D.path,W.path).path});else{const v=bt({},D.params);for(const S in v)v[S]==null&&delete v[S];K=bt({},D,{params:g(v)}),W.params=g(W.params)}const Y=t.resolve(K,W),pt=D.hash||"";Y.params=d(y(Y.params));const St=gm(r,bt({},D,{hash:cm(pt),path:Y.path})),m=s.createHref(St);return bt({fullPath:St,hash:pt,query:r===bc?Km(D.query):D.query||{}},Y,{redirectedFrom:void 0,href:m})}function H(D){return typeof D=="string"?oo(n,D,u.value.path):bt({},D)}function $(D,W){if(f!==D)return fr(8,{from:W,to:D})}function st(D){return I(D)}function It(D){return st(bt(H(D),{replace:!0}))}function tt(D){const W=D.matched[D.matched.length-1];if(W&&W.redirect){const{redirect:K}=W;let Y=typeof K=="function"?K(D):K;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=H(Y):{path:Y},Y.params={}),bt({query:D.query,hash:D.hash,params:Y.path!=null?{}:D.params},Y)}}function I(D,W){const K=f=Q(D),Y=u.value,pt=D.state,St=D.force,m=D.replace===!0,v=tt(K);if(v)return I(bt(H(v),{state:typeof v=="object"?bt({},pt,v.state):pt,force:St,replace:m}),W||K);const S=K;S.redirectedFrom=W;let O;return!St&&mm(r,Y,K)&&(O=fr(16,{to:S,from:Y}),we(Y,Y,!0,!1)),(O?Promise.resolve(O):A(S,Y)).catch(V=>qe(V)?qe(V,2)?V:be(V):ut(V,S,Y)).then(V=>{if(V){if(qe(V,2))return I(bt({replace:m},H(V.to),{state:typeof V.to=="object"?bt({},pt,V.to.state):pt,force:St}),W||S)}else V=b(S,Y,!0,m,pt);return R(S,Y,V),V})}function _(D,W){const K=$(D,W);return K?Promise.reject(K):Promise.resolve()}function T(D){const W=Je.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(D):D()}function A(D,W){let K;const[Y,pt,St]=t_(D,W);K=ao(Y.reverse(),"beforeRouteLeave",D,W);for(const v of Y)v.leaveGuards.forEach(S=>{K.push(ln(S,D,W))});const m=_.bind(null,D,W);return K.push(m),ue(K).then(()=>{K=[];for(const v of i.list())K.push(ln(v,D,W));return K.push(m),ue(K)}).then(()=>{K=ao(pt,"beforeRouteUpdate",D,W);for(const v of pt)v.updateGuards.forEach(S=>{K.push(ln(S,D,W))});return K.push(m),ue(K)}).then(()=>{K=[];for(const v of St)if(v.beforeEnter)if(De(v.beforeEnter))for(const S of v.beforeEnter)K.push(ln(S,D,W));else K.push(ln(v.beforeEnter,D,W));return K.push(m),ue(K)}).then(()=>(D.matched.forEach(v=>v.enterCallbacks={}),K=ao(St,"beforeRouteEnter",D,W,T),K.push(m),ue(K))).then(()=>{K=[];for(const v of a.list())K.push(ln(v,D,W));return K.push(m),ue(K)}).catch(v=>qe(v,8)?v:Promise.reject(v))}function R(D,W,K){l.list().forEach(Y=>T(()=>Y(D,W,K)))}function b(D,W,K,Y,pt){const St=$(D,W);if(St)return St;const m=W===sn,v=Yn?history.state:{};K&&(Y||m?s.replace(D.fullPath,bt({scroll:m&&v&&v.scroll},pt)):s.push(D.fullPath,pt)),u.value=D,we(D,W,K,m),be()}let E;function se(){E||(E=s.listen((D,W,K)=>{if(!Ne.listening)return;const Y=Q(D),pt=tt(Y);if(pt){I(bt(pt,{replace:!0}),Y).catch(Jr);return}f=Y;const St=u.value;Yn&&Am(yc(St.fullPath,K.delta),Ai()),A(Y,St).catch(m=>qe(m,12)?m:qe(m,2)?(I(m.to,Y).then(v=>{qe(v,20)&&!K.delta&&K.type===cs.pop&&s.go(-1,!1)}).catch(Jr),Promise.reject()):(K.delta&&s.go(-K.delta,!1),ut(m,Y,St))).then(m=>{m=m||b(Y,St,!1),m&&(K.delta&&!qe(m,8)?s.go(-K.delta,!1):K.type===cs.pop&&qe(m,20)&&s.go(-1,!1)),R(Y,St,m)}).catch(Jr)}))}let Te=Br(),Bt=Br(),dt;function ut(D,W,K){be(D);const Y=Bt.list();return Y.length?Y.forEach(pt=>pt(D,W,K)):console.error(D),Promise.reject(D)}function me(){return dt&&u.value!==sn?Promise.resolve():new Promise((D,W)=>{Te.add([D,W])})}function be(D){return dt||(dt=!D,se(),Te.list().forEach(([W,K])=>D?K(D):W()),Te.reset()),D}function we(D,W,K,Y){const{scrollBehavior:pt}=e;if(!Yn||!pt)return Promise.resolve();const St=!K&&Rm(yc(D.fullPath,0))||(Y||!K)&&history.state&&history.state.scroll||null;return sh().then(()=>pt(D,W,St)).then(m=>m&&Im(m)).catch(m=>ut(m,D,W))}const Dt=D=>s.go(D);let xt;const Je=new Set,Ne={currentRoute:u,listening:!0,addRoute:w,removeRoute:x,clearRoutes:t.clearRoutes,hasRoute:L,getRoutes:N,resolve:Q,options:e,push:st,replace:It,go:Dt,back:()=>Dt(-1),forward:()=>Dt(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Bt.add,isReady:me,install(D){const W=this;D.component("RouterLink",xo),D.component("RouterView",Qh),D.config.globalProperties.$router=W,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(u)}),Yn&&!xt&&u.value===sn&&(xt=!0,st(s.location).catch(pt=>{}));const K={};for(const pt in sn)Object.defineProperty(K,pt,{get:()=>u.value[pt],enumerable:!0});D.provide(wa,W),D.provide(Wh,Qu(K)),D.provide(Do,u);const Y=D.unmount;Je.add(D),D.unmount=function(){Je.delete(D),Je.size<1&&(f=sn,E&&E(),E=null,u.value=sn,xt=!1,dt=!1),Y()}}};function ue(D){return D.reduce((W,K)=>W.then(()=>T(K)),Promise.resolve())}return Ne}function t_(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(f=>hr(f,l))?r.push(l):n.push(l));const u=e.matched[a];u&&(t.matched.find(f=>hr(f,u))||s.push(u))}return[n,r,s]}const e_=e=>(lh("data-v-a47c673d"),e=e(),ch(),e),n_={class:"greetings"},r_={class:"green"},s_=e_(()=>ht("h3",null,[ft(" Youve successfully created a project with "),ht("a",{href:"https://vitejs.dev/",target:"_blank",rel:"noopener"},"Vite"),ft(" + "),ht("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"Vue 3"),ft(". What's next? ")],-1)),i_=vr({__name:"HelloWorld",props:{msg:{}},setup(e){return(t,n)=>(xe(),$e("div",n_,[ht("h1",r_,oa(t.msg),1),s_]))}}),wn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},o_=wn(i_,[["__scopeId","data-v-a47c673d"]]),a_=e=>(lh("data-v-008b0596"),e=e(),ch(),e),l_=a_(()=>ht("img",{alt:"Vue logo",class:"logo",src:Jg,width:"125",height:"125"},null,-1)),c_={class:"wrapper"},u_=vr({__name:"App",setup(e){return(t,n)=>(xe(),$e(ve,null,[ht("header",null,[l_,ht("div",c_,[Ct(o_,{msg:"Simple vue firebase app!"}),ht("nav",null,[Ct(Ge(xo),{to:"/"},{default:qt(()=>[ft("Home")]),_:1}),Ct(Ge(xo),{to:"/about"},{default:qt(()=>[ft("About")]),_:1})])])]),Ct(Ge(Qh))],64))}}),h_=wn(u_,[["__scopeId","data-v-008b0596"]]),f_="modulepreload",d_=function(e){return"/"+e},xc={},p_=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=d_(l),l in xc)return;xc[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":f_,u||(d.as="script",d.crossOrigin=""),d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((g,y)=>{d.addEventListener("load",g),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},g_={},m_={class:"item"},__={class:"details"};function y_(e,t){return xe(),$e("div",m_,[ht("i",null,[Ji(e.$slots,"icon",{},void 0)]),ht("div",__,[ht("h3",null,[Ji(e.$slots,"heading",{},void 0)]),Ji(e.$slots,"default",{},void 0)])])}const $r=wn(g_,[["render",y_],["__scopeId","data-v-fd0742eb"]]),v_={},E_={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},T_=ht("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),w_=[T_];function I_(e,t){return xe(),$e("svg",E_,w_)}const A_=wn(v_,[["render",I_]]),R_={},b_={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},C_=ht("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),S_=[C_];function P_(e,t){return xe(),$e("svg",b_,S_)}const V_=wn(R_,[["render",P_]]),D_={},x_={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},N_=ht("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),O_=[N_];function M_(e,t){return xe(),$e("svg",x_,O_)}const k_=wn(D_,[["render",M_]]),L_={},F_={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},U_=ht("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),B_=[U_];function $_(e,t){return xe(),$e("svg",F_,B_)}const j_=wn(L_,[["render",$_]]),z_={},q_={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},H_=ht("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),K_=[H_];function G_(e,t){return xe(),$e("svg",q_,K_)}const W_=wn(z_,[["render",G_]]),Q_=ht("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1),Y_=ht("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),X_=ht("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),J_=ht("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),Z_=ht("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),ty=ht("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),ey=ht("br",null,null,-1),ny=ht("code",null,"README.md",-1),ry=ht("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1),sy=ht("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1),iy=ht("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1),oy=ht("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1),ay=ht("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1),ly=ht("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1),cy=ht("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1),uy=ht("a",{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"},"our mailing list",-1),hy=ht("a",{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1),fy=ht("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1),dy=vr({__name:"TheWelcome",setup(e){return(t,n)=>(xe(),$e(ve,null,[Ct($r,null,{icon:qt(()=>[Ct(A_)]),heading:qt(()=>[ft("Documentation")]),default:qt(()=>[ft(" Vues "),Q_,ft(" provides you with all information you need to get started. ")]),_:1}),Ct($r,null,{icon:qt(()=>[Ct(V_)]),heading:qt(()=>[ft("Tooling")]),default:qt(()=>[ft(" This project is served and bundled with "),Y_,ft(". The recommended IDE setup is "),X_,ft(" + "),J_,ft(". If you need to test your components and web pages, check out "),Z_,ft(" and "),ty,ft(". "),ey,ft(" More instructions are available in "),ny,ft(". ")]),_:1}),Ct($r,null,{icon:qt(()=>[Ct(k_)]),heading:qt(()=>[ft("Ecosystem")]),default:qt(()=>[ft(" Get official tools and libraries for your project: "),ry,ft(", "),sy,ft(", "),iy,ft(", and "),oy,ft(". If you need more resources, we suggest paying "),ay,ft(" a visit. ")]),_:1}),Ct($r,null,{icon:qt(()=>[Ct(j_)]),heading:qt(()=>[ft("Community")]),default:qt(()=>[ft(" Got stuck? Ask your question on "),ly,ft(", our official Discord server, or "),cy,ft(". You should also subscribe to "),uy,ft(" and follow the official "),hy,ft(" twitter account for latest news in the Vue world. ")]),_:1}),Ct($r,null,{icon:qt(()=>[Ct(W_)]),heading:qt(()=>[ft("Support Vue")]),default:qt(()=>[ft(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),fy,ft(". ")]),_:1})],64))}}),py=vr({__name:"HomeView",setup(e){const t=pa(null);return dh(async()=>{t.value=await KE()}),(n,r)=>(xe(),$e("main",null,[ft(" users: "+oa(t.value)+" ",1),Ct(dy)]))}}),gy=Zm({history:Pm("/"),routes:[{path:"/",name:"home",component:py},{path:"/about",name:"about",component:()=>p_(()=>import("./AboutView-BeGKBQbw.js"),__vite__mapDeps([0,1]))}]});var Nc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},my=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},Xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,u=s+2<e.length,f=u?e[s+2]:0,d=i>>2,g=(i&3)<<4|l>>4;let y=(l&15)<<2|f>>6,w=f&63;u||(w=64,a||(y=64)),r.push(n[d],n[g],n[y],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):my(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const g=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||f==null||g==null)throw new _y;const y=i<<2|l>>4;if(r.push(y),f!==64){const w=l<<4&240|f>>2;if(r.push(w),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yy=function(e){const t=Yh(e);return Xh.encodeByteArray(t,!0)},ii=function(e){return yy(e).replace(/\./g,"")},vy=function(e){try{return Xh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=()=>Ey().__FIREBASE_DEFAULTS__,wy=()=>{if(typeof process>"u"||typeof Nc>"u")return;const e=Nc.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Iy=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&vy(e[1]);return t&&JSON.parse(t)},Ia=()=>{try{return Ty()||wy()||Iy()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ay=e=>{var t,n;return(n=(t=Ia())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ry=e=>{const t=Ay(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Jh=()=>{var e;return(e=Ia())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ii(JSON.stringify(n)),ii(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){var e;const t=(e=Ia())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vy(){return!Py()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dy(){try{return typeof indexedDB=="object"}catch{return!1}}function xy(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="FirebaseError";class Er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ny,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?Oy(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Er(s,l,r)}}function Oy(e,t){return e.replace(My,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const My=/\{\$([^}]+)}/g;function No(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Oc(i)&&Oc(a)){if(!No(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Oc(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e){return e&&e._delegate?e._delegate:e}class us{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new by;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Uy(t))try{this.getOrInitializeService({instanceIdentifier:Pn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Pn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pn){return this.instances.has(t)}getOptions(t=Pn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fy(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pn){return this.component?this.component.multipleInstances?t:Pn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fy(e){return e===Pn?void 0:e}function Uy(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ly(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vt||(vt={}));const $y={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},jy=vt.INFO,zy={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},qy=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=zy[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tf{constructor(t){this.name=t,this._logLevel=jy,this._logHandler=qy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$y[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}const Hy=(e,t)=>t.some(n=>e instanceof n);let Mc,kc;function Ky(){return Mc||(Mc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gy(){return kc||(kc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ef=new WeakMap,Oo=new WeakMap,nf=new WeakMap,lo=new WeakMap,Aa=new WeakMap;function Wy(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(dn(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&ef.set(n,e)}).catch(()=>{}),Aa.set(t,e),t}function Qy(e){if(Oo.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Oo.set(e,t)}let Mo={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Oo.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Yy(e){Mo=e(Mo)}function Xy(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(co(this),t,...n);return nf.set(r,t.sort?t.sort():[t]),dn(r)}:Gy().includes(e)?function(...t){return e.apply(co(this),t),dn(ef.get(this))}:function(...t){return dn(e.apply(co(this),t))}}function Jy(e){return typeof e=="function"?Xy(e):(e instanceof IDBTransaction&&Qy(e),Hy(e,Ky())?new Proxy(e,Mo):e)}function dn(e){if(e instanceof IDBRequest)return Wy(e);if(lo.has(e))return lo.get(e);const t=Jy(e);return t!==e&&(lo.set(e,t),Aa.set(t,e)),t}const co=e=>Aa.get(e);function Zy(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=dn(a);return r&&a.addEventListener("upgradeneeded",u=>{r(dn(a.result),u.oldVersion,u.newVersion,dn(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const tv=["get","getKey","getAll","getAllKeys","count"],ev=["put","add","delete","clear"],uo=new Map;function Lc(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uo.get(t))return uo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ev.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tv.includes(n)))return;const i=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),s&&u.done]))[0]};return uo.set(t,i),i}Yy(e=>({...e,get:(t,n,r)=>Lc(t,n)||e.get(t,n,r),has:(t,n)=>!!Lc(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ko="@firebase/app",Fc="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe=new tf("@firebase/app"),sv="@firebase/app-compat",iv="@firebase/analytics-compat",ov="@firebase/analytics",av="@firebase/app-check-compat",lv="@firebase/app-check",cv="@firebase/auth",uv="@firebase/auth-compat",hv="@firebase/database",fv="@firebase/database-compat",dv="@firebase/functions",pv="@firebase/functions-compat",gv="@firebase/installations",mv="@firebase/installations-compat",_v="@firebase/messaging",yv="@firebase/messaging-compat",vv="@firebase/performance",Ev="@firebase/performance-compat",Tv="@firebase/remote-config",wv="@firebase/remote-config-compat",Iv="@firebase/storage",Av="@firebase/storage-compat",Rv="@firebase/firestore",bv="@firebase/vertexai-preview",Cv="@firebase/firestore-compat",Sv="firebase",Pv="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]",Vv={[ko]:"fire-core",[sv]:"fire-core-compat",[ov]:"fire-analytics",[iv]:"fire-analytics-compat",[lv]:"fire-app-check",[av]:"fire-app-check-compat",[cv]:"fire-auth",[uv]:"fire-auth-compat",[hv]:"fire-rtdb",[fv]:"fire-rtdb-compat",[dv]:"fire-fn",[pv]:"fire-fn-compat",[gv]:"fire-iid",[mv]:"fire-iid-compat",[_v]:"fire-fcm",[yv]:"fire-fcm-compat",[vv]:"fire-perf",[Ev]:"fire-perf-compat",[Tv]:"fire-rc",[wv]:"fire-rc-compat",[Iv]:"fire-gcs",[Av]:"fire-gcs-compat",[Rv]:"fire-fst",[Cv]:"fire-fst-compat",[bv]:"fire-vertex","fire-js":"fire-js",[Sv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Map,Dv=new Map,Fo=new Map;function Uc(e,t){try{e.container.addComponent(t)}catch(n){Qe.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ai(e){const t=e.name;if(Fo.has(t))return Qe.debug(`There were multiple attempts to register component ${t}.`),!1;Fo.set(t,e);for(const n of oi.values())Uc(n,e);for(const n of Dv.values())Uc(n,e);return!0}function xv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pn=new Zh("app","Firebase",Nv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=Pv;function rf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Lo,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw pn.create("bad-app-name",{appName:String(s)});if(n||(n=Jh()),!n)throw pn.create("no-options");const i=oi.get(s);if(i){if(No(n,i.options)&&No(r,i.config))return i;throw pn.create("duplicate-app",{appName:s})}const a=new By(s);for(const u of Fo.values())a.addComponent(u);const l=new Ov(n,r,a);return oi.set(s,l),l}function kv(e=Lo){const t=oi.get(e);if(!t&&e===Lo&&Jh())return rf();if(!t)throw pn.create("no-app",{appName:e});return t}function sr(e,t,n){var r;let s=(r=Vv[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qe.warn(l.join(" "));return}ai(new us(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="firebase-heartbeat-database",Fv=1,hs="firebase-heartbeat-store";let ho=null;function sf(){return ho||(ho=Zy(Lv,Fv,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(hs)}catch(n){console.warn(n)}}}}).catch(e=>{throw pn.create("idb-open",{originalErrorMessage:e.message})})),ho}async function Uv(e){try{const n=(await sf()).transaction(hs),r=await n.objectStore(hs).get(of(e));return await n.done,r}catch(t){if(t instanceof Er)Qe.warn(t.message);else{const n=pn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Qe.warn(n.message)}}}async function Bc(e,t){try{const r=(await sf()).transaction(hs,"readwrite");await r.objectStore(hs).put(t,of(e)),await r.done}catch(n){if(n instanceof Er)Qe.warn(n.message);else{const r=pn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qe.warn(r.message)}}}function of(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=1024,$v=30*24*60*60*1e3;class jv{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$c();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=$v}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qe.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$c(),{heartbeatsToSend:r,unsentEntries:s}=zv(this._heartbeatsCache.heartbeats),i=ii(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qe.warn(n),""}}}function $c(){return new Date().toISOString().substring(0,10)}function zv(e,t=Bv){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),jc(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dy()?xy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Uv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Bc(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Bc(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function jc(e){return ii(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(e){ai(new us("platform-logger",t=>new nv(t),"PRIVATE")),ai(new us("heartbeat",t=>new jv(t),"PRIVATE")),sr(ko,Fc,e),sr(ko,Fc,"esm2017"),sr("fire-js","")}Hv("");var Kv="firebase",Gv="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(Kv,Gv,"app");var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mn,af;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,_){function T(){}T.prototype=_.prototype,I.D=_.prototype,I.prototype=new T,I.prototype.constructor=I,I.C=function(A,R,b){for(var E=Array(arguments.length-2),se=2;se<arguments.length;se++)E[se-2]=arguments[se];return _.prototype[R].apply(A,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,_,T){T||(T=0);var A=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)A[R]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(R=0;16>R;++R)A[R]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=I.g[0],T=I.g[1],R=I.g[2];var b=I.g[3],E=_+(b^T&(R^b))+A[0]+3614090360&4294967295;_=T+(E<<7&4294967295|E>>>25),E=b+(R^_&(T^R))+A[1]+3905402710&4294967295,b=_+(E<<12&4294967295|E>>>20),E=R+(T^b&(_^T))+A[2]+606105819&4294967295,R=b+(E<<17&4294967295|E>>>15),E=T+(_^R&(b^_))+A[3]+3250441966&4294967295,T=R+(E<<22&4294967295|E>>>10),E=_+(b^T&(R^b))+A[4]+4118548399&4294967295,_=T+(E<<7&4294967295|E>>>25),E=b+(R^_&(T^R))+A[5]+1200080426&4294967295,b=_+(E<<12&4294967295|E>>>20),E=R+(T^b&(_^T))+A[6]+2821735955&4294967295,R=b+(E<<17&4294967295|E>>>15),E=T+(_^R&(b^_))+A[7]+4249261313&4294967295,T=R+(E<<22&4294967295|E>>>10),E=_+(b^T&(R^b))+A[8]+1770035416&4294967295,_=T+(E<<7&4294967295|E>>>25),E=b+(R^_&(T^R))+A[9]+2336552879&4294967295,b=_+(E<<12&4294967295|E>>>20),E=R+(T^b&(_^T))+A[10]+4294925233&4294967295,R=b+(E<<17&4294967295|E>>>15),E=T+(_^R&(b^_))+A[11]+2304563134&4294967295,T=R+(E<<22&4294967295|E>>>10),E=_+(b^T&(R^b))+A[12]+1804603682&4294967295,_=T+(E<<7&4294967295|E>>>25),E=b+(R^_&(T^R))+A[13]+4254626195&4294967295,b=_+(E<<12&4294967295|E>>>20),E=R+(T^b&(_^T))+A[14]+2792965006&4294967295,R=b+(E<<17&4294967295|E>>>15),E=T+(_^R&(b^_))+A[15]+1236535329&4294967295,T=R+(E<<22&4294967295|E>>>10),E=_+(R^b&(T^R))+A[1]+4129170786&4294967295,_=T+(E<<5&4294967295|E>>>27),E=b+(T^R&(_^T))+A[6]+3225465664&4294967295,b=_+(E<<9&4294967295|E>>>23),E=R+(_^T&(b^_))+A[11]+643717713&4294967295,R=b+(E<<14&4294967295|E>>>18),E=T+(b^_&(R^b))+A[0]+3921069994&4294967295,T=R+(E<<20&4294967295|E>>>12),E=_+(R^b&(T^R))+A[5]+3593408605&4294967295,_=T+(E<<5&4294967295|E>>>27),E=b+(T^R&(_^T))+A[10]+38016083&4294967295,b=_+(E<<9&4294967295|E>>>23),E=R+(_^T&(b^_))+A[15]+3634488961&4294967295,R=b+(E<<14&4294967295|E>>>18),E=T+(b^_&(R^b))+A[4]+3889429448&4294967295,T=R+(E<<20&4294967295|E>>>12),E=_+(R^b&(T^R))+A[9]+568446438&4294967295,_=T+(E<<5&4294967295|E>>>27),E=b+(T^R&(_^T))+A[14]+3275163606&4294967295,b=_+(E<<9&4294967295|E>>>23),E=R+(_^T&(b^_))+A[3]+4107603335&4294967295,R=b+(E<<14&4294967295|E>>>18),E=T+(b^_&(R^b))+A[8]+1163531501&4294967295,T=R+(E<<20&4294967295|E>>>12),E=_+(R^b&(T^R))+A[13]+2850285829&4294967295,_=T+(E<<5&4294967295|E>>>27),E=b+(T^R&(_^T))+A[2]+4243563512&4294967295,b=_+(E<<9&4294967295|E>>>23),E=R+(_^T&(b^_))+A[7]+1735328473&4294967295,R=b+(E<<14&4294967295|E>>>18),E=T+(b^_&(R^b))+A[12]+2368359562&4294967295,T=R+(E<<20&4294967295|E>>>12),E=_+(T^R^b)+A[5]+4294588738&4294967295,_=T+(E<<4&4294967295|E>>>28),E=b+(_^T^R)+A[8]+2272392833&4294967295,b=_+(E<<11&4294967295|E>>>21),E=R+(b^_^T)+A[11]+1839030562&4294967295,R=b+(E<<16&4294967295|E>>>16),E=T+(R^b^_)+A[14]+4259657740&4294967295,T=R+(E<<23&4294967295|E>>>9),E=_+(T^R^b)+A[1]+2763975236&4294967295,_=T+(E<<4&4294967295|E>>>28),E=b+(_^T^R)+A[4]+1272893353&4294967295,b=_+(E<<11&4294967295|E>>>21),E=R+(b^_^T)+A[7]+4139469664&4294967295,R=b+(E<<16&4294967295|E>>>16),E=T+(R^b^_)+A[10]+3200236656&4294967295,T=R+(E<<23&4294967295|E>>>9),E=_+(T^R^b)+A[13]+681279174&4294967295,_=T+(E<<4&4294967295|E>>>28),E=b+(_^T^R)+A[0]+3936430074&4294967295,b=_+(E<<11&4294967295|E>>>21),E=R+(b^_^T)+A[3]+3572445317&4294967295,R=b+(E<<16&4294967295|E>>>16),E=T+(R^b^_)+A[6]+76029189&4294967295,T=R+(E<<23&4294967295|E>>>9),E=_+(T^R^b)+A[9]+3654602809&4294967295,_=T+(E<<4&4294967295|E>>>28),E=b+(_^T^R)+A[12]+3873151461&4294967295,b=_+(E<<11&4294967295|E>>>21),E=R+(b^_^T)+A[15]+530742520&4294967295,R=b+(E<<16&4294967295|E>>>16),E=T+(R^b^_)+A[2]+3299628645&4294967295,T=R+(E<<23&4294967295|E>>>9),E=_+(R^(T|~b))+A[0]+4096336452&4294967295,_=T+(E<<6&4294967295|E>>>26),E=b+(T^(_|~R))+A[7]+1126891415&4294967295,b=_+(E<<10&4294967295|E>>>22),E=R+(_^(b|~T))+A[14]+2878612391&4294967295,R=b+(E<<15&4294967295|E>>>17),E=T+(b^(R|~_))+A[5]+4237533241&4294967295,T=R+(E<<21&4294967295|E>>>11),E=_+(R^(T|~b))+A[12]+1700485571&4294967295,_=T+(E<<6&4294967295|E>>>26),E=b+(T^(_|~R))+A[3]+2399980690&4294967295,b=_+(E<<10&4294967295|E>>>22),E=R+(_^(b|~T))+A[10]+4293915773&4294967295,R=b+(E<<15&4294967295|E>>>17),E=T+(b^(R|~_))+A[1]+2240044497&4294967295,T=R+(E<<21&4294967295|E>>>11),E=_+(R^(T|~b))+A[8]+1873313359&4294967295,_=T+(E<<6&4294967295|E>>>26),E=b+(T^(_|~R))+A[15]+4264355552&4294967295,b=_+(E<<10&4294967295|E>>>22),E=R+(_^(b|~T))+A[6]+2734768916&4294967295,R=b+(E<<15&4294967295|E>>>17),E=T+(b^(R|~_))+A[13]+1309151649&4294967295,T=R+(E<<21&4294967295|E>>>11),E=_+(R^(T|~b))+A[4]+4149444226&4294967295,_=T+(E<<6&4294967295|E>>>26),E=b+(T^(_|~R))+A[11]+3174756917&4294967295,b=_+(E<<10&4294967295|E>>>22),E=R+(_^(b|~T))+A[2]+718787259&4294967295,R=b+(E<<15&4294967295|E>>>17),E=T+(b^(R|~_))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(R+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var T=_-this.blockSize,A=this.B,R=this.h,b=0;b<_;){if(R==0)for(;b<=T;)s(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<_;)if(A[R++]=I.charCodeAt(b++),R==this.blockSize){s(this,A),R=0;break}}else for(;b<_;)if(A[R++]=I[b++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var T=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=T&255,T/=256;for(this.u(I),I=Array(16),_=T=0;4>_;++_)for(var A=0;32>A;A+=8)I[T++]=this.g[_]>>>A&255;return I};function i(I,_){var T=l;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=_(I)}function a(I,_){this.h=_;for(var T=[],A=!0,R=I.length-1;0<=R;R--){var b=I[R]|0;A&&b==_||(T[R]=b,A=!1)}this.g=T}var l={};function u(I){return-128<=I&&128>I?i(I,function(_){return new a([_|0],0>_?-1:0)}):new a([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return L(f(-I));for(var _=[],T=1,A=0;I>=T;A++)_[A]=I/T|0,T*=4294967296;return new a(_,0)}function d(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return L(d(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(_,8)),A=g,R=0;R<I.length;R+=8){var b=Math.min(8,I.length-R),E=parseInt(I.substring(R,R+b),_);8>b?(b=f(Math.pow(_,b)),A=A.j(b).add(f(E))):(A=A.j(T),A=A.add(f(E)))}return A}var g=u(0),y=u(1),w=u(16777216);e=a.prototype,e.m=function(){if(N(this))return-L(this).m();for(var I=0,_=1,T=0;T<this.g.length;T++){var A=this.i(T);I+=(0<=A?A:4294967296+A)*_,_*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(N(this))return"-"+L(this).toString(I);for(var _=f(Math.pow(I,6)),T=this,A="";;){var R=st(T,_).g;T=Q(T,R.j(_));var b=((0<T.g.length?T.g[0]:T.h)>>>0).toString(I);if(T=R,x(T))return b+A;for(;6>b.length;)b="0"+b;A=b+A}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function N(I){return I.h==-1}e.l=function(I){return I=Q(this,I),N(I)?-1:x(I)?0:1};function L(I){for(var _=I.g.length,T=[],A=0;A<_;A++)T[A]=~I.g[A];return new a(T,~I.h).add(y)}e.abs=function(){return N(this)?L(this):this},e.add=function(I){for(var _=Math.max(this.g.length,I.g.length),T=[],A=0,R=0;R<=_;R++){var b=A+(this.i(R)&65535)+(I.i(R)&65535),E=(b>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);A=E>>>16,b&=65535,E&=65535,T[R]=E<<16|b}return new a(T,T[T.length-1]&-2147483648?-1:0)};function Q(I,_){return I.add(L(_))}e.j=function(I){if(x(this)||x(I))return g;if(N(this))return N(I)?L(this).j(L(I)):L(L(this).j(I));if(N(I))return L(this.j(L(I)));if(0>this.l(w)&&0>I.l(w))return f(this.m()*I.m());for(var _=this.g.length+I.g.length,T=[],A=0;A<2*_;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<I.g.length;R++){var b=this.i(A)>>>16,E=this.i(A)&65535,se=I.i(R)>>>16,Te=I.i(R)&65535;T[2*A+2*R]+=E*Te,H(T,2*A+2*R),T[2*A+2*R+1]+=b*Te,H(T,2*A+2*R+1),T[2*A+2*R+1]+=E*se,H(T,2*A+2*R+1),T[2*A+2*R+2]+=b*se,H(T,2*A+2*R+2)}for(A=0;A<_;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=_;A<2*_;A++)T[A]=0;return new a(T,0)};function H(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function $(I,_){this.g=I,this.h=_}function st(I,_){if(x(_))throw Error("division by zero");if(x(I))return new $(g,g);if(N(I))return _=st(L(I),_),new $(L(_.g),L(_.h));if(N(_))return _=st(I,L(_)),new $(L(_.g),_.h);if(30<I.g.length){if(N(I)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var T=y,A=_;0>=A.l(I);)T=It(T),A=It(A);var R=tt(T,1),b=tt(A,1);for(A=tt(A,2),T=tt(T,2);!x(A);){var E=b.add(A);0>=E.l(I)&&(R=R.add(T),b=E),A=tt(A,1),T=tt(T,1)}return _=Q(I,R.j(_)),new $(R,_)}for(R=g;0<=I.l(_);){for(T=Math.max(1,Math.floor(I.m()/_.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),b=f(T),E=b.j(_);N(E)||0<E.l(I);)T-=A,b=f(T),E=b.j(_);x(b)&&(b=y),R=R.add(b),I=Q(I,E)}return new $(R,I)}e.A=function(I){return st(this,I).h},e.and=function(I){for(var _=Math.max(this.g.length,I.g.length),T=[],A=0;A<_;A++)T[A]=this.i(A)&I.i(A);return new a(T,this.h&I.h)},e.or=function(I){for(var _=Math.max(this.g.length,I.g.length),T=[],A=0;A<_;A++)T[A]=this.i(A)|I.i(A);return new a(T,this.h|I.h)},e.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),T=[],A=0;A<_;A++)T[A]=this.i(A)^I.i(A);return new a(T,this.h^I.h)};function It(I){for(var _=I.g.length+1,T=[],A=0;A<_;A++)T[A]=I.i(A)<<1|I.i(A-1)>>>31;return new a(T,I.h)}function tt(I,_){var T=_>>5;_%=32;for(var A=I.g.length-T,R=[],b=0;b<A;b++)R[b]=0<_?I.i(b+T)>>>_|I.i(b+T+1)<<32-_:I.i(b+T);return new a(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,af=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,Mn=a}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});var $s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lf,cf,qr,uf,Xs,Uo,hf,ff,df;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,h){return o==Array.prototype||o==Object.prototype||(o[c]=h.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof $s=="object"&&$s];for(var c=0;c<o.length;++c){var h=o[c];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function s(o,c){if(c)t:{var h=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in h))break t;h=h[C]}o=o[o.length-1],p=h[o],c=c(p),c!=p&&c!=null&&t(h,o,{configurable:!0,writable:!0,value:c})}}function i(o,c){o instanceof String&&(o+="");var h=0,p=!1,C={next:function(){if(!p&&h<o.length){var P=h++;return{value:c(P,o[P]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}s("Array.prototype.values",function(o){return o||function(){return i(this,function(c,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function f(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,h){return o.call.apply(o.bind,arguments)}function g(o,c,h){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function y(o,c,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,y.apply(null,arguments)}function w(o,c){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,c){function h(){}h.prototype=c.prototype,o.aa=c.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(p,C,P){for(var B=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)B[Pt-2]=arguments[Pt];return c.prototype[C].apply(p,B)}}function N(o){const c=o.length;if(0<c){const h=Array(c);for(let p=0;p<c;p++)h[p]=o[p];return h}return[]}function L(o,c){for(let h=1;h<arguments.length;h++){const p=arguments[h];if(u(p)){const C=o.length||0,P=p.length||0;o.length=C+P;for(let B=0;B<P;B++)o[C+B]=p[B]}else o.push(p)}}class Q{constructor(c,h){this.i=c,this.j=h,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function H(o){return/^[\s\xa0]*$/.test(o)}function $(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function st(o){return st[" "](o),o}st[" "]=function(){};var It=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function tt(o,c,h){for(const p in o)c.call(h,o[p],p,o)}function I(o,c){for(const h in o)c.call(void 0,o[h],h,o)}function _(o){const c={};for(const h in o)c[h]=o[h];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)o[h]=p[h];for(let P=0;P<T.length;P++)h=T[P],Object.prototype.hasOwnProperty.call(p,h)&&(o[h]=p[h])}}function R(o){var c=1;o=o.split(":");const h=[];for(;0<c&&o.length;)h.push(o.shift()),c--;return o.length&&h.push(o.join(":")),h}function b(o){l.setTimeout(()=>{throw o},0)}function E(){var o=me;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class se{constructor(){this.h=this.g=null}add(c,h){const p=Te.get();p.set(c,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Te=new Q(()=>new Bt,o=>o.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(c,h){this.h=c,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ut=!1,me=new se,be=()=>{const o=l.Promise.resolve(void 0);dt=()=>{o.then(we)}};var we=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(h){b(h)}var c=Te;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}ut=!1};function Dt(){this.s=this.s,this.C=this.C}Dt.prototype.s=!1,Dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};l.addEventListener("test",h,c),l.removeEventListener("test",h,c)}catch{}return o}();function Ne(o,c){if(xt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(It){t:{try{st(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else h=="mouseover"?c=o.fromElement:h=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ue[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,xt);var ue={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),W=0;function K(o,c,h,p,C){this.listener=o,this.proxy=null,this.src=c,this.type=h,this.capture=!!p,this.ha=C,this.key=++W,this.da=this.fa=!1}function Y(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function pt(o){this.src=o,this.g={},this.h=0}pt.prototype.add=function(o,c,h,p,C){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var B=m(o,c,p,C);return-1<B?(c=o[B],h||(c.fa=!1)):(c=new K(c,this.src,P,!!p,C),c.fa=h,o.push(c)),c};function St(o,c){var h=c.type;if(h in o.g){var p=o.g[h],C=Array.prototype.indexOf.call(p,c,void 0),P;(P=0<=C)&&Array.prototype.splice.call(p,C,1),P&&(Y(c),o.g[h].length==0&&(delete o.g[h],o.h--))}}function m(o,c,h,p){for(var C=0;C<o.length;++C){var P=o[C];if(!P.da&&P.listener==c&&P.capture==!!h&&P.ha==p)return C}return-1}var v="closure_lm_"+(1e6*Math.random()|0),S={};function O(o,c,h,p,C){if(Array.isArray(c)){for(var P=0;P<c.length;P++)O(o,c[P],h,p,C);return null}return h=Z(h),o&&o[D]?o.K(c,h,f(p)?!!p.capture:!!p,C):V(o,c,h,!1,p,C)}function V(o,c,h,p,C,P){if(!c)throw Error("Invalid event type");var B=f(C)?!!C.capture:!!C,Pt=G(o);if(Pt||(o[v]=Pt=new pt(o)),h=Pt.add(c,h,p,B,P),h.proxy)return h;if(p=F(),h.proxy=p,p.src=o,p.listener=h,o.addEventListener)Je||(C=B),C===void 0&&(C=!1),o.addEventListener(c.toString(),p,C);else if(o.attachEvent)o.attachEvent(j(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function F(){function o(h){return c.call(o.src,o.listener,h)}const c=k;return o}function z(o,c,h,p,C){if(Array.isArray(c))for(var P=0;P<c.length;P++)z(o,c[P],h,p,C);else p=f(p)?!!p.capture:!!p,h=Z(h),o&&o[D]?(o=o.i,c=String(c).toString(),c in o.g&&(P=o.g[c],h=m(P,h,p,C),-1<h&&(Y(P[h]),Array.prototype.splice.call(P,h,1),P.length==0&&(delete o.g[c],o.h--)))):o&&(o=G(o))&&(c=o.g[c.toString()],o=-1,c&&(o=m(c,h,p,C)),(h=-1<o?c[o]:null)&&U(h))}function U(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[D])St(c.i,o);else{var h=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(h,p,o.capture):c.detachEvent?c.detachEvent(j(h),p):c.addListener&&c.removeListener&&c.removeListener(p),(h=G(c))?(St(h,o),h.h==0&&(h.src=null,c[v]=null)):Y(o)}}}function j(o){return o in S?S[o]:S[o]="on"+o}function k(o,c){if(o.da)o=!0;else{c=new Ne(c,this);var h=o.listener,p=o.ha||o.src;o.fa&&U(o),o=h.call(p,c)}return o}function G(o){return o=o[v],o instanceof pt?o:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(o){return typeof o=="function"?o:(o[et]||(o[et]=function(c){return o.handleEvent(c)}),o[et])}function J(){Dt.call(this),this.i=new pt(this),this.M=this,this.F=null}x(J,Dt),J.prototype[D]=!0,J.prototype.removeEventListener=function(o,c,h,p){z(this,o,c,h,p)};function nt(o,c){var h,p=o.F;if(p)for(h=[];p;p=p.F)h.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new xt(c,o);else if(c instanceof xt)c.target=c.target||o;else{var C=c;c=new xt(p,o),A(c,C)}if(C=!0,h)for(var P=h.length-1;0<=P;P--){var B=c.g=h[P];C=At(B,p,!0,c)&&C}if(B=c.g=o,C=At(B,p,!0,c)&&C,C=At(B,p,!1,c)&&C,h)for(P=0;P<h.length;P++)B=c.g=h[P],C=At(B,p,!1,c)&&C}J.prototype.N=function(){if(J.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var h=o.g[c],p=0;p<h.length;p++)Y(h[p]);delete o.g[c],o.h--}}this.F=null},J.prototype.K=function(o,c,h,p){return this.i.add(String(o),c,!1,h,p)},J.prototype.L=function(o,c,h,p){return this.i.add(String(o),c,!0,h,p)};function At(o,c,h,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,P=0;P<c.length;++P){var B=c[P];if(B&&!B.da&&B.capture==h){var Pt=B.listener,Gt=B.ha||B.src;B.fa&&St(o.i,B),C=Pt.call(Gt,p)!==!1&&C}}return C&&!p.defaultPrevented}function _t(o,c,h){if(typeof o=="function")h&&(o=y(o,h));else if(o&&typeof o.handleEvent=="function")o=y(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Lt(o){o.g=_t(()=>{o.g=null,o.i&&(o.i=!1,Lt(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class _e extends Dt{constructor(c,h){super(),this.m=c,this.l=h,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(o){Dt.call(this),this.h=o,this.g={}}x(Ie,Dt);var Rr=[];function Ze(o){tt(o.g,function(c,h){this.g.hasOwnProperty(h)&&U(c)},o),o.g={}}Ie.prototype.N=function(){Ie.aa.N.call(this),Ze(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=l.JSON.stringify,ie=l.JSON.parse,Ae=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Hn(){}Hn.prototype.h=null;function Wa(o){return o.h||(o.h=o.i())}function Qa(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){xt.call(this,"d")}x(Mi,xt);function ki(){xt.call(this,"c")}x(ki,xt);var In={},Ya=null;function Ts(){return Ya=Ya||new J}In.La="serverreachability";function Xa(o){xt.call(this,In.La,o)}x(Xa,xt);function Cr(o){const c=Ts();nt(c,new Xa(c))}In.STAT_EVENT="statevent";function Ja(o,c){xt.call(this,In.STAT_EVENT,o),this.stat=c}x(Ja,xt);function oe(o){const c=Ts();nt(c,new Ja(c,o))}In.Ma="timingevent";function Za(o,c){xt.call(this,In.Ma,o),this.size=c}x(Za,xt);function Sr(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Pr(){this.g=!0}Pr.prototype.xa=function(){this.g=!1};function ld(o,c,h,p,C,P){o.info(function(){if(o.g)if(P)for(var B="",Pt=P.split("&"),Gt=0;Gt<Pt.length;Gt++){var Tt=Pt[Gt].split("=");if(1<Tt.length){var Xt=Tt[0];Tt=Tt[1];var Jt=Xt.split("_");B=2<=Jt.length&&Jt[1]=="type"?B+(Xt+"="+Tt+"&"):B+(Xt+"=redacted&")}}else B=null;else B=P;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+c+`
`+h+`
`+B})}function cd(o,c,h,p,C,P,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+c+`
`+h+`
`+P+" "+B})}function Kn(o,c,h,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+hd(o,h)+(p?" "+p:"")})}function ud(o,c){o.info(function(){return"TIMEOUT: "+c})}Pr.prototype.info=function(){};function hd(o,c){if(!o.g)return c;if(!c)return null;try{var h=JSON.parse(c);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var p=h[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var P=C[0];if(P!="noop"&&P!="stop"&&P!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return qn(h)}catch{return c}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Li;function Is(){}x(Is,Hn),Is.prototype.g=function(){return new XMLHttpRequest},Is.prototype.i=function(){return{}},Li=new Is;function tn(o,c,h,p){this.j=o,this.i=c,this.l=h,this.R=p||1,this.U=new Ie(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new el}function el(){this.i=null,this.g="",this.h=!1}var nl={},Fi={};function Ui(o,c,h){o.L=1,o.v=Cs(je(c)),o.m=h,o.P=!0,rl(o,null)}function rl(o,c){o.F=Date.now(),As(o),o.A=je(o.v);var h=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),_l(h.i,"t",p),o.C=0,h=o.j.J,o.h=new el,o.g=Ml(o.j,h?c:null,!o.m),0<o.O&&(o.M=new _e(y(o.Y,o,o.g),o.O)),c=o.U,h=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(Rr[0]=C.toString()),C=Rr);for(var P=0;P<C.length;P++){var B=O(h,C[P],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?_(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Cr(),ld(o.i,o.u,o.A,o.l,o.R,o.m)}tn.prototype.ca=function(o){o=o.target;const c=this.M;c&&ze(o)==3?c.j():this.Y(o)},tn.prototype.Y=function(o){try{if(o==this.g)t:{const Jt=ze(this.g);var c=this.g.Ba();const Qn=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||Jt!=4||c==7||(c==8||0>=Qn?Cr(3):Cr(2)),Bi(this);var h=this.g.Z();this.X=h;e:if(sl(this)){var p=Al(this.g);o="";var C=p.length,P=ze(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),Vr(this);var B="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(P&&c==C-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=h==200,cd(this.i,this.u,this.A,this.l,this.R,Jt,h),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Gt=this.g;if((Pt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Pt)){var Tt=Pt;break e}}Tt=null}if(h=Tt)Kn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$i(this,h);else{this.o=!1,this.s=3,oe(12),An(this),Vr(this);break t}}if(this.P){h=!0;let Ce;for(;!this.J&&this.C<B.length;)if(Ce=fd(this,B),Ce==Fi){Jt==4&&(this.s=4,oe(14),h=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==nl){this.s=4,oe(15),Kn(this.i,this.l,B,"[Invalid Chunk]"),h=!1;break}else Kn(this.i,this.l,Ce,null),$i(this,Ce);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||B.length!=0||this.h.h||(this.s=1,oe(16),h=!1),this.o=this.o&&h,!h)Kn(this.i,this.l,B,"[Invalid Chunked Response]"),An(this),Vr(this);else if(0<B.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Gi(Xt),Xt.M=!0,oe(11))}}else Kn(this.i,this.l,B,null),$i(this,B);Jt==4&&An(this),this.o&&!this.J&&(Jt==4?Dl(this.j,this):(this.o=!1,As(this)))}else Pd(this.g),h==400&&0<B.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),An(this),Vr(this)}}}catch{}finally{}};function sl(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function fd(o,c){var h=o.C,p=c.indexOf(`
`,h);return p==-1?Fi:(h=Number(c.substring(h,p)),isNaN(h)?nl:(p+=1,p+h>c.length?Fi:(c=c.slice(p,p+h),o.C=p+h,c)))}tn.prototype.cancel=function(){this.J=!0,An(this)};function As(o){o.S=Date.now()+o.I,il(o,o.I)}function il(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Sr(y(o.ba,o),c)}function Bi(o){o.B&&(l.clearTimeout(o.B),o.B=null)}tn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ud(this.i,this.A),this.L!=2&&(Cr(),oe(17)),An(this),this.s=2,Vr(this)):il(this,this.S-o)};function Vr(o){o.j.G==0||o.J||Dl(o.j,o)}function An(o){Bi(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Ze(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function $i(o,c){try{var h=o.j;if(h.G!=0&&(h.g==o||ji(h.h,o))){if(!o.K&&ji(h.h,o)&&h.G==3){try{var p=h.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)xs(h),Vs(h);else break t;Ki(h),oe(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Sr(y(h.Za,h),6e3));if(1>=ll(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else bn(h,11)}else if((o.K||h.g==o)&&xs(h),!H(c))for(C=h.Da.g.parse(c),c=0;c<C.length;c++){let Tt=C[c];if(h.T=Tt[0],Tt=Tt[1],h.G==2)if(Tt[0]=="c"){h.K=Tt[1],h.ia=Tt[2];const Xt=Tt[3];Xt!=null&&(h.la=Xt,h.j.info("VER="+h.la));const Jt=Tt[4];Jt!=null&&(h.Aa=Jt,h.j.info("SVER="+h.Aa));const Qn=Tt[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(p=1.5*Qn,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;const Ce=o.g;if(Ce){const Os=Ce.g?Ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var P=p.h;P.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(zi(P,P.h),P.h=null))}if(p.D){const Wi=Ce.g?Ce.g.getResponseHeader("X-HTTP-Session-Id"):null;Wi&&(p.ya=Wi,Vt(p.I,p.D,Wi))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var B=o;if(p.qa=Ol(p,p.J?p.ia:null,p.W),B.K){cl(p.h,B);var Pt=B,Gt=p.L;Gt&&(Pt.I=Gt),Pt.B&&(Bi(Pt),As(Pt)),p.g=B}else Pl(p);0<h.i.length&&Ds(h)}else Tt[0]!="stop"&&Tt[0]!="close"||bn(h,7);else h.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?bn(h,7):Hi(h):Tt[0]!="noop"&&h.l&&h.l.ta(Tt),h.v=0)}}Cr(4)}catch{}}var dd=class{constructor(o,c){this.g=o,this.map=c}};function ol(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function al(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ll(o){return o.h?1:o.g?o.g.size:0}function ji(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function zi(o,c){o.g?o.g.add(c):o.h=c}function cl(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}ol.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ul(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const h of o.g.values())c=c.concat(h.D);return c}return N(o.i)}function pd(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],h=o.length,p=0;p<h;p++)c.push(o[p]);return c}c=[],h=0;for(p in o)c[h++]=o[p];return c}function gd(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var h=0;h<o;h++)c.push(h);return c}c=[],h=0;for(const p in o)c[h++]=p;return c}}}function hl(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var h=gd(o),p=pd(o),C=p.length,P=0;P<C;P++)c.call(void 0,p[P],h&&h[P],o)}var fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(o,c){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var p=o[h].indexOf("="),C=null;if(0<=p){var P=o[h].substring(0,p);C=o[h].substring(p+1)}else P=o[h];c(P,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Rn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Rn){this.h=o.h,Rs(this,o.j),this.o=o.o,this.g=o.g,bs(this,o.s),this.l=o.l;var c=o.i,h=new Nr;h.i=c.i,c.g&&(h.g=new Map(c.g),h.h=c.h),dl(this,h),this.m=o.m}else o&&(c=String(o).match(fl))?(this.h=!1,Rs(this,c[1]||"",!0),this.o=Dr(c[2]||""),this.g=Dr(c[3]||"",!0),bs(this,c[4]),this.l=Dr(c[5]||"",!0),dl(this,c[6]||"",!0),this.m=Dr(c[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Rn.prototype.toString=function(){var o=[],c=this.j;c&&o.push(xr(c,pl,!0),":");var h=this.g;return(h||c=="file")&&(o.push("//"),(c=this.o)&&o.push(xr(c,pl,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(xr(h,h.charAt(0)=="/"?vd:yd,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",xr(h,Td)),o.join("")};function je(o){return new Rn(o)}function Rs(o,c,h){o.j=h?Dr(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function bs(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function dl(o,c,h){c instanceof Nr?(o.i=c,wd(o.i,o.h)):(h||(c=xr(c,Ed)),o.i=new Nr(c,o.h))}function Vt(o,c,h){o.i.set(c,h)}function Cs(o){return Vt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Dr(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xr(o,c,h){return typeof o=="string"?(o=encodeURI(o).replace(c,_d),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function _d(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var pl=/[#\/\?@]/g,yd=/[#\?:]/g,vd=/[#\?]/g,Ed=/[#\?@]/g,Td=/#/g;function Nr(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function en(o){o.g||(o.g=new Map,o.h=0,o.i&&md(o.i,function(c,h){o.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}e=Nr.prototype,e.add=function(o,c){en(this),this.i=null,o=Gn(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(c),this.h+=1,this};function gl(o,c){en(o),c=Gn(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function ml(o,c){return en(o),c=Gn(o,c),o.g.has(c)}e.forEach=function(o,c){en(this),this.g.forEach(function(h,p){h.forEach(function(C){o.call(c,C,p,this)},this)},this)},e.na=function(){en(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),h=[];for(let p=0;p<c.length;p++){const C=o[p];for(let P=0;P<C.length;P++)h.push(c[p])}return h},e.V=function(o){en(this);let c=[];if(typeof o=="string")ml(this,o)&&(c=c.concat(this.g.get(Gn(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)c=c.concat(o[h])}return c},e.set=function(o,c){return en(this),this.i=null,o=Gn(this,o),ml(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function _l(o,c,h){gl(o,c),0<h.length&&(o.i=null,o.g.set(Gn(o,c),N(h)),o.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var h=0;h<c.length;h++){var p=c[h];const P=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var C=P;B[p]!==""&&(C+="="+encodeURIComponent(String(B[p]))),o.push(C)}}return this.i=o.join("&")};function Gn(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function wd(o,c){c&&!o.j&&(en(o),o.i=null,o.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(gl(this,p),_l(this,C,h))},o)),o.j=c}function Id(o,c){const h=new Pr;if(l.Image){const p=new Image;p.onload=w(nn,h,"TestLoadImage: loaded",!0,c,p),p.onerror=w(nn,h,"TestLoadImage: error",!1,c,p),p.onabort=w(nn,h,"TestLoadImage: abort",!1,c,p),p.ontimeout=w(nn,h,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function Ad(o,c){const h=new Pr,p=new AbortController,C=setTimeout(()=>{p.abort(),nn(h,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(P=>{clearTimeout(C),P.ok?nn(h,"TestPingServer: ok",!0,c):nn(h,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),nn(h,"TestPingServer: error",!1,c)})}function nn(o,c,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function Rd(){this.g=new Ae}function bd(o,c,h){const p=h||"";try{hl(o,function(C,P){let B=C;f(C)&&(B=qn(C)),c.push(p+P+"="+encodeURIComponent(B))})}catch(C){throw c.push(p+"type="+encodeURIComponent("_badmap")),C}}function Or(o){this.l=o.Ub||null,this.j=o.eb||!1}x(Or,Hn),Or.prototype.g=function(){return new Ss(this.l,this.j)},Or.prototype.i=function(o){return function(){return o}}({});function Ss(o,c){J.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ss,J),e=Ss.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,kr(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Mr(this):kr(this),this.readyState==3&&yl(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Mr(this))},e.Qa=function(o){this.g&&(this.response=o,Mr(this))},e.ga=function(){this.g&&Mr(this)};function Mr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,kr(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var h=c.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=c.next();return o.join(`\r
`)};function kr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function vl(o){let c="";return tt(o,function(h,p){c+=p,c+=":",c+=h,c+=`\r
`}),c}function qi(o,c,h){t:{for(p in h){var p=!1;break t}p=!0}p||(h=vl(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):Vt(o,c,h))}function Mt(o){J.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Mt,J);var Cd=/^https?$/i,Sd=["POST","PUT"];e=Mt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Li.g(),this.v=this.o?Wa(this.o):Wa(Li),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(P){El(this,P);return}if(o=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const P of p.keys())h.set(P,p.get(P));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(P=>P.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Sd,c,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,B]of h)this.g.setRequestHeader(P,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Il(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){El(this,P)}};function El(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Tl(o),Ps(o)}function Tl(o){o.A||(o.A=!0,nt(o,"complete"),nt(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,nt(this,"complete"),nt(this,"abort"),Ps(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},e.bb=function(){wl(this)};function wl(o){if(o.h&&typeof a<"u"&&(!o.v[1]||ze(o)!=4||o.Z()!=2)){if(o.u&&ze(o)==4)_t(o.Ea,0,o);else if(nt(o,"readystatechange"),ze(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=B===0){var C=String(o.D).match(fl)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!Cd.test(C?C.toLowerCase():"")}h=p}if(h)nt(o,"complete"),nt(o,"success");else{o.m=6;try{var P=2<ze(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",Tl(o)}}finally{Ps(o)}}}}function Ps(o,c){if(o.g){Il(o);const h=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||nt(o,"ready");try{h.onreadystatechange=p}catch{}}}function Il(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function ze(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<ze(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),ie(c)}};function Al(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(o){const c={};o=(o.g&&2<=ze(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(H(o[p]))continue;var h=R(o[p]);const C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const P=c[C]||[];c[C]=P,P.push(h)}I(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(o,c,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||c}function Rl(o){this.Aa=0,this.i=[],this.j=new Pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,o),this.cb=Lr("retryDelaySeedMs",1e4,o),this.Wa=Lr("forwardChannelMaxRetries",2,o),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ol(o&&o.concurrentRequestLimit),this.Da=new Rd,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Rl.prototype,e.la=8,e.G=1,e.connect=function(o,c,h,p){oe(0),this.W=o,this.H=c||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Ol(this,null,this.W),Ds(this)};function Hi(o){if(bl(o),o.G==3){var c=o.U++,h=je(o.I);if(Vt(h,"SID",o.K),Vt(h,"RID",c),Vt(h,"TYPE","terminate"),Fr(o,h),c=new tn(o,o.j,c),c.L=2,c.v=Cs(je(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=c.v,h=!0),h||(c.g=Ml(c.j,null),c.g.ea(c.v)),c.F=Date.now(),As(c)}Nl(o)}function Vs(o){o.g&&(Gi(o),o.g.cancel(),o.g=null)}function bl(o){Vs(o),o.u&&(l.clearTimeout(o.u),o.u=null),xs(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Ds(o){if(!al(o.h)&&!o.s){o.s=!0;var c=o.Ga;dt||be(),ut||(dt(),ut=!0),me.add(c,o),o.B=0}}function Vd(o,c){return ll(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Sr(y(o.Ga,o,c),xl(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new tn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=_(P),A(P,this.S)):P=this.S),this.m!==null||this.O||(C.H=P,P=null),this.P)t:{for(var c=0,h=0;h<this.i.length;h++){e:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=h;break t}if(c===4096||h===this.i.length-1){c=h+1;break t}}c=1e3}else c=1e3;c=Sl(this,C,c),h=je(this.I),Vt(h,"RID",o),Vt(h,"CVER",22),this.D&&Vt(h,"X-HTTP-Session-Id",this.D),Fr(this,h),P&&(this.O?c="headers="+encodeURIComponent(String(vl(P)))+"&"+c:this.m&&qi(h,this.m,P)),zi(this.h,C),this.Ua&&Vt(h,"TYPE","init"),this.P?(Vt(h,"$req",c),Vt(h,"SID","null"),C.T=!0,Ui(C,h,null)):Ui(C,h,c),this.G=2}}else this.G==3&&(o?Cl(this,o):this.i.length==0||al(this.h)||Cl(this))};function Cl(o,c){var h;c?h=c.l:h=o.U++;const p=je(o.I);Vt(p,"SID",o.K),Vt(p,"RID",h),Vt(p,"AID",o.T),Fr(o,p),o.m&&o.o&&qi(p,o.m,o.o),h=new tn(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Sl(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),zi(o.h,h),Ui(h,p,c)}function Fr(o,c){o.H&&tt(o.H,function(h,p){Vt(c,p,h)}),o.l&&hl({},function(h,p){Vt(c,p,h)})}function Sl(o,c,h){h=Math.min(o.i.length,h);var p=o.l?y(o.l.Na,o.l,o):null;t:{var C=o.i;let P=-1;for(;;){const B=["count="+h];P==-1?0<h?(P=C[0].g,B.push("ofs="+P)):P=0:B.push("ofs="+P);let Pt=!0;for(let Gt=0;Gt<h;Gt++){let Tt=C[Gt].g;const Xt=C[Gt].map;if(Tt-=P,0>Tt)P=Math.max(0,C[Gt].g-100),Pt=!1;else try{bd(Xt,B,"req"+Tt+"_")}catch{p&&p(Xt)}}if(Pt){p=B.join("&");break t}}}return o=o.i.splice(0,h),c.D=o,p}function Pl(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;dt||be(),ut||(dt(),ut=!0),me.add(c,o),o.v=0}}function Ki(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Sr(y(o.Fa,o),xl(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Vl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Sr(y(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Vs(this),Vl(this))};function Gi(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Vl(o){o.g=new tn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=je(o.qa);Vt(c,"RID","rpc"),Vt(c,"SID",o.K),Vt(c,"AID",o.T),Vt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Vt(c,"TO",o.ja),Vt(c,"TYPE","xmlhttp"),Fr(o,c),o.m&&o.o&&qi(c,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=Cs(je(c)),h.m=null,h.P=!0,rl(h,o)}e.Za=function(){this.C!=null&&(this.C=null,Vs(this),Ki(this),oe(19))};function xs(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Dl(o,c){var h=null;if(o.g==c){xs(o),Gi(o),o.g=null;var p=2}else if(ji(o.h,c))h=c.D,cl(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){h=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;p=Ts(),nt(p,new Za(p,h)),Ds(o)}else Pl(o);else if(C=c.s,C==3||C==0&&0<c.X||!(p==1&&Vd(o,c)||p==2&&Ki(o)))switch(h&&0<h.length&&(c=o.h,c.i=c.i.concat(h)),C){case 1:bn(o,5);break;case 4:bn(o,10);break;case 3:bn(o,6);break;default:bn(o,2)}}}function xl(o,c){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*c}function bn(o,c){if(o.j.info("Error code "+c),c==2){var h=y(o.fb,o),p=o.Xa;const C=!p;p=new Rn(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rs(p,"https"),Cs(p),C?Id(p.toString(),h):Ad(p.toString(),h)}else oe(2);o.G=0,o.l&&o.l.sa(c),Nl(o),bl(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Nl(o){if(o.G=0,o.ka=[],o.l){const c=ul(o.h);(c.length!=0||o.i.length!=0)&&(L(o.ka,c),L(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function Ol(o,c,h){var p=h instanceof Rn?je(h):new Rn(h);if(p.g!="")c&&(p.g=c+"."+p.g),bs(p,p.s);else{var C=l.location;p=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var P=new Rn(null);p&&Rs(P,p),c&&(P.g=c),C&&bs(P,C),h&&(P.l=h),p=P}return h=o.D,c=o.ya,h&&c&&Vt(p,h,c),Vt(p,"VER",o.la),Fr(o,p),p}function Ml(o,c,h){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Mt(new Or({eb:h})):new Mt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kl(){}e=kl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ns(){}Ns.prototype.g=function(o,c){return new ye(o,c)};function ye(o,c){J.call(this),this.g=new Rl(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!H(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!H(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Wn(this)}x(ye,J),ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){Hi(this.g)},ye.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=qn(o),o=h);c.i.push(new dd(c.Ya++,o)),c.G==3&&Ds(c)},ye.prototype.N=function(){this.g.l=null,delete this.j,Hi(this.g),delete this.g,ye.aa.N.call(this)};function Ll(o){Mi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const h in c){o=h;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}x(Ll,Mi);function Fl(){ki.call(this),this.status=1}x(Fl,ki);function Wn(o){this.g=o}x(Wn,kl),Wn.prototype.ua=function(){nt(this.g,"a")},Wn.prototype.ta=function(o){nt(this.g,new Ll(o))},Wn.prototype.sa=function(o){nt(this.g,new Fl)},Wn.prototype.ra=function(){nt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,df=function(){return new Ns},ff=function(){return Ts()},hf=In,Uo={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,Xs=ws,tl.COMPLETE="complete",uf=tl,Qa.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",J.prototype.listen=J.prototype.K,qr=Qa,cf=Or,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,lf=Mt}).apply(typeof $s<"u"?$s:typeof self<"u"?self:typeof window<"u"?window:{});const qc="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}te.UNAUTHENTICATED=new te(null),te.GOOGLE_CREDENTIALS=new te("google-credentials-uid"),te.FIRST_PARTY=new te("first-party-uid"),te.MOCK_USER=new te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new tf("@firebase/firestore");function jr(){return Bn.logLevel}function X(e,...t){if(Bn.logLevel<=vt.DEBUG){const n=t.map(Ra);Bn.debug(`Firestore (${Tr}): ${e}`,...n)}}function Ye(e,...t){if(Bn.logLevel<=vt.ERROR){const n=t.map(Ra);Bn.error(`Firestore (${Tr}): ${e}`,...n)}}function dr(e,...t){if(Bn.logLevel<=vt.WARN){const n=t.map(Ra);Bn.warn(`Firestore (${Tr}): ${e}`,...n)}}function Ra(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e="Unexpected state"){const t=`FIRESTORE (${Tr}) INTERNAL ASSERTION FAILED: `+e;throw Ye(t),new Error(t)}function jt(e,t){e||ct()}function mt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Wv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(te.UNAUTHENTICATED))}shutdown(){}}class Qv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yv{constructor(t){this.t=t,this.currentUser=te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new kn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new kn)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string"),new pf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string"),new te(t)}}class Xv{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=te.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jv{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xv(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t0{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string"),this.R=n.token,new Zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=e0(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function wt(e,t){return e<t?-1:e>t?1:0}function pr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rt(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new de(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.timestamp=t}static fromTimestamp(t){return new at(t)}static min(){return new at(new de(0,0))}static max(){return new at(new de(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n,r){n===void 0?n=0:n>t.length&&ct(),r===void 0?r=t.length-n:r>t.length-n&&ct(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return fs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class kt extends fs{construct(t,n,r){return new kt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const r0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ce extends fs{construct(t,n,r){return new ce(t,n,r)}static isValidIdentifier(t){return r0.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ce.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ce(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new rt(q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new rt(q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new rt(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new rt(q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ce(n)}static emptyPath(){return new ce([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(kt.fromString(t))}static fromName(t){return new it(kt.fromString(t).popFirst(5))}static empty(){return new it(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new kt(t.slice()))}}function s0(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=at.fromTimestamp(r===1e9?new de(n+1,0):new de(n,r));return new mn(s,it.empty(),t)}function i0(e){return new mn(e.readTime,e.key,-1)}class mn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new mn(at.min(),it.empty(),-1)}static max(){return new mn(at.max(),it.empty(),-1)}}function o0(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=it.comparator(e.documentKey,t.documentKey),n!==0?n:wt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(e){if(e.code!==q.FAILED_PRECONDITION||e.message!==a0)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):M.reject(n)}static resolve(t){return new M((n,r)=>{n(t)})}static reject(t){return new M((n,r)=>{r(t)})}static waitFor(t){return new M((n,r)=>{let s=0,i=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},u=>r(u))}),a=!0,i===s&&n()})}static or(t){let n=M.resolve(!1);for(const r of t)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new M((r,s)=>{const i=t.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const f=u;n(t[f]).next(d=>{a[f]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(t,n){return new M((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function c0(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _s(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Ca.oe=-1;function Ri(e){return e==null}function Bo(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function u0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,n){this.comparator=t,this.root=n||Wt.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new js(this.root,t,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new js(this.root,t,this.comparator,!0)}}class js{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Wt.RED,this.left=s??Wt.EMPTY,this.right=i??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Wt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Wt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kc(this.data.getIterator())}getIteratorFrom(t){return new Kc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Qt(this.comparator);return n.data=t,n}}class Kc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.fields=t,t.sort(ce.comparator)}static empty(){return new cn([])}unionWith(t){let n=new Qt(ce.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return pr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gf("Invalid base64 string: "+i):i}}(t);return new Yt(n)}static fromUint8Array(t){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(t);return new Yt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const h0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(e){if(jt(!!e),typeof e=="string"){let t=0;const n=h0.exec(e);if(jt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ft(e.seconds),nanos:Ft(e.nanos)}}function Ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $n(e){return typeof e=="string"?Yt.fromBase64String(e):Yt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pa(e){const t=e.mapValue.fields.__previous_value__;return Sa(t)?Pa(t):t}function ds(e){const t=_n(e.mapValue.fields.__local_write_time__.timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n,r,s,i,a,l,u,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f}}class ps{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ps("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ps&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sa(e)?4:p0(e)?9007199254740991:d0(e)?10:11:ct()}function Ue(e,t){if(e===t)return!0;const n=jn(e);if(n!==jn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ds(e).isEqual(ds(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=_n(s.timestampValue),l=_n(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return $n(s.bytesValue).isEqual($n(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Ft(s.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ft(s.integerValue)===Ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ft(s.doubleValue),l=Ft(i.doubleValue);return a===l?Bo(a)===Bo(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return pr(e.arrayValue.values||[],t.arrayValue.values||[],Ue);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Hc(a)!==Hc(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ue(a[u],l[u])))return!1;return!0}(e,t);default:return ct()}}function gs(e,t){return(e.values||[]).find(n=>Ue(n,t))!==void 0}function gr(e,t){if(e===t)return 0;const n=jn(e),r=jn(t);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(e.booleanValue,t.booleanValue);case 2:return function(i,a){const l=Ft(i.integerValue||i.doubleValue),u=Ft(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Gc(e.timestampValue,t.timestampValue);case 4:return Gc(ds(e),ds(t));case 5:return wt(e.stringValue,t.stringValue);case 6:return function(i,a){const l=$n(i),u=$n(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){const l=i.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=wt(l[f],u[f]);if(d!==0)return d}return wt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){const l=wt(Ft(i.latitude),Ft(a.latitude));return l!==0?l:wt(Ft(i.longitude),Ft(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Wc(e.arrayValue,t.arrayValue);case 10:return function(i,a){var l,u,f,d;const g=i.fields||{},y=a.fields||{},w=(l=g.value)===null||l===void 0?void 0:l.arrayValue,x=(u=y.value)===null||u===void 0?void 0:u.arrayValue,N=wt(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return N!==0?N:Wc(w,x)}(e.mapValue,t.mapValue);case 11:return function(i,a){if(i===zs.mapValue&&a===zs.mapValue)return 0;if(i===zs.mapValue)return 1;if(a===zs.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),f=a.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const y=wt(u[g],d[g]);if(y!==0)return y;const w=gr(l[u[g]],f[d[g]]);if(w!==0)return w}return wt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw ct()}}function Gc(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return wt(e,t);const n=_n(e),r=_n(t),s=wt(n.seconds,r.seconds);return s!==0?s:wt(n.nanos,r.nanos)}function Wc(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gr(n[s],r[s]);if(i)return i}return wt(n.length,r.length)}function mr(e){return $o(e)}function $o(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=_n(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return $n(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return it.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$o(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${$o(n.fields[a])}`;return s+"}"}(e.mapValue):ct()}function jo(e){return!!e&&"integerValue"in e}function Va(e){return!!e&&"arrayValue"in e}function Qc(e){return!!e&&"nullValue"in e}function Yc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fo(e){return!!e&&"mapValue"in e}function d0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ts(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ts(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ts(e.arrayValue.values[n]);return t}return Object.assign({},e)}function p0(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.value=t}static empty(){return new Le({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!fo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ts(n)}setAll(t){let n=ce.emptyPath(),r={},s=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=ts(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());fo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ue(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];fo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){bi(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Le(ts(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n,r,s,i,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ee(t,0,at.min(),at.min(),at.min(),Le.empty(),0)}static newFoundDocument(t,n,r,s){return new ee(t,1,n,at.min(),r,s,0)}static newNoDocument(t,n){return new ee(t,2,n,at.min(),at.min(),Le.empty(),0)}static newUnknownDocument(t,n){return new ee(t,3,n,at.min(),at.min(),Le.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Le.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Le.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ee&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,n){this.position=t,this.inclusive=n}}function Xc(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=it.comparator(it.fromName(a.referenceValue),n.key):r=gr(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jc(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ue(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n="asc"){this.field=t,this.dir=n}}function g0(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{}class zt extends mf{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new _0(t,n,r):n==="array-contains"?new E0(t,r):n==="in"?new T0(t,r):n==="not-in"?new w0(t,r):n==="array-contains-any"?new I0(t,r):new zt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new y0(t,r):new v0(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gr(n,this.value)):n!==null&&jn(this.value)===jn(n)&&this.matchesComparison(gr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends mf{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Be(t,n)}matches(t){return _f(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _f(e){return e.op==="and"}function yf(e){return m0(e)&&_f(e)}function m0(e){for(const t of e.filters)if(t instanceof Be)return!1;return!0}function zo(e){if(e instanceof zt)return e.field.canonicalString()+e.op.toString()+mr(e.value);if(yf(e))return e.filters.map(t=>zo(t)).join(",");{const t=e.filters.map(n=>zo(n)).join(",");return`${e.op}(${t})`}}function vf(e,t){return e instanceof zt?function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&Ue(r.value,s.value)}(e,t):e instanceof Be?function(r,s){return s instanceof Be&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&vf(a,s.filters[l]),!0):!1}(e,t):void ct()}function Ef(e){return e instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${mr(n.value)}`}(e):e instanceof Be?function(n){return n.op.toString()+" {"+n.getFilters().map(Ef).join(" ,")+"}"}(e):"Filter"}class _0 extends zt{constructor(t,n,r){super(t,n,r),this.key=it.fromName(r.referenceValue)}matches(t){const n=it.comparator(t.key,this.key);return this.matchesComparison(n)}}class y0 extends zt{constructor(t,n){super(t,"in",n),this.keys=Tf("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class v0 extends zt{constructor(t,n){super(t,"not-in",n),this.keys=Tf("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Tf(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>it.fromName(r.referenceValue))}class E0 extends zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Va(n)&&gs(n.arrayValue,this.value)}}class T0 extends zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&gs(this.value.arrayValue,n)}}class w0 extends zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(gs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!gs(this.value.arrayValue,n)}}class I0 extends zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Va(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,n=null,r=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function Zc(e,t=null,n=[],r=[],s=null,i=null,a=null){return new A0(e,t,n,r,s,i,a)}function Da(e){const t=mt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>zo(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ri(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>mr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>mr(r)).join(",")),t.ue=n}return t.ue}function xa(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!g0(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jc(e.startAt,t.startAt)&&Jc(e.endAt,t.endAt)}function qo(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n=null,r=[],s=[],i=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function R0(e,t,n,r,s,i,a,l){return new Ci(e,t,n,r,s,i,a,l)}function wf(e){return new Ci(e)}function tu(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function b0(e){return e.collectionGroup!==null}function es(e){const t=mt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Qt(ce.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.ce.push(new ci(i,r))}),n.has(ce.keyField().canonicalString())||t.ce.push(new ci(ce.keyField(),r))}return t.ce}function Fe(e){const t=mt(e);return t.le||(t.le=C0(t,es(e))),t.le}function C0(e,t){if(e.limitType==="F")return Zc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ci(s.field,i)});const n=e.endAt?new li(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new li(e.startAt.position,e.startAt.inclusive):null;return Zc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ho(e,t,n){return new Ci(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Si(e,t){return xa(Fe(e),Fe(t))&&e.limitType===t.limitType}function If(e){return`${Da(Fe(e))}|lt:${e.limitType}`}function Xn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ef(s)).join(", ")}]`),Ri(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>mr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>mr(s)).join(",")),`Target(${r})`}(Fe(e))}; limitType=${e.limitType})`}function Pi(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):it.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of es(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(a,l,u){const f=Xc(a,l,u);return a.inclusive?f<=0:f<0}(r.startAt,es(r),s)||r.endAt&&!function(a,l,u){const f=Xc(a,l,u);return a.inclusive?f>=0:f>0}(r.endAt,es(r),s))}(e,t)}function S0(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Af(e){return(t,n)=>{let r=!1;for(const s of es(e)){const i=P0(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function P0(e,t,n){const r=e.field.isKeyField()?it.comparator(t.key,n.key):function(i,a,l){const u=a.data.field(i),f=l.data.field(i);return u!==null&&f!==null?gr(u,f):ct()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){bi(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Ut(it.comparator);function yn(){return V0}const Rf=new Ut(it.comparator);function Hr(...e){let t=Rf;for(const n of e)t=t.insert(n.key,n);return t}function D0(e){let t=Rf;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function xn(){return ns()}function bf(){return ns()}function ns(){return new wr(e=>e.toString(),(e,t)=>e.isEqual(t))}const x0=new Qt(it.comparator);function Et(...e){let t=x0;for(const n of e)t=t.add(n);return t}const N0=new Qt(wt);function O0(){return N0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(t)?"-0":t}}function k0(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this._=void 0}}function L0(e,t,n){return e instanceof Ko?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Sa(i)&&(i=Pa(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,t):e instanceof ui?Cf(e,t):e instanceof hi?Sf(e,t):function(s,i){const a=U0(s,i),l=eu(a)+eu(s.Pe);return jo(a)&&jo(s.Pe)?k0(l):M0(s.serializer,l)}(e,t)}function F0(e,t,n){return e instanceof ui?Cf(e,t):e instanceof hi?Sf(e,t):n}function U0(e,t){return e instanceof Go?function(r){return jo(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Ko extends Vi{}class ui extends Vi{constructor(t){super(),this.elements=t}}function Cf(e,t){const n=Pf(t);for(const r of e.elements)n.some(s=>Ue(s,r))||n.push(r);return{arrayValue:{values:n}}}class hi extends Vi{constructor(t){super(),this.elements=t}}function Sf(e,t){let n=Pf(t);for(const r of e.elements)n=n.filter(s=>!Ue(s,r));return{arrayValue:{values:n}}}class Go extends Vi{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function eu(e){return Ft(e.integerValue||e.doubleValue)}function Pf(e){return Va(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function B0(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof ui&&s instanceof ui||r instanceof hi&&s instanceof hi?pr(r.elements,s.elements,Ue):r instanceof Go&&s instanceof Go?Ue(r.Pe,s.Pe):r instanceof Ko&&s instanceof Ko}(e.transform,t.transform)}class Ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Js(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Na{}function Vf(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new j0(e.key,Ln.none()):new Oa(e.key,e.data,Ln.none());{const n=e.data,r=Le.empty();let s=new Qt(ce.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Di(e.key,r,new cn(s.toArray()),Ln.none())}}function $0(e,t,n){e instanceof Oa?function(s,i,a){const l=s.value.clone(),u=ru(s.fieldTransforms,i,a.transformResults);l.setAll(u),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Di?function(s,i,a){if(!Js(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=ru(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(Df(s)),u.setAll(l),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function rs(e,t,n,r){return e instanceof Oa?function(i,a,l,u){if(!Js(i.precondition,a))return l;const f=i.value.clone(),d=su(i.fieldTransforms,u,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(e,t,n,r):e instanceof Di?function(i,a,l,u){if(!Js(i.precondition,a))return l;const f=su(i.fieldTransforms,u,a),d=a.data;return d.setAll(Df(i)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(e,t,n,r):function(i,a,l){return Js(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function nu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pr(r,s,(i,a)=>B0(i,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Oa extends Na{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Di extends Na{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Df(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ru(e,t,n){const r=new Map;jt(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,l=t.data.field(i.field);r.set(i.field,F0(a,l,n[s]))}return r}function su(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,L0(i,a,t))}return r}class j0 extends Na{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&$0(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=rs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=rs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bf();return this.mutations.forEach(s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const u=Vf(a,l);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Et())}isEqual(t){return this.batchId===t.batchId&&pr(this.mutations,t.mutations,(n,r)=>nu(n,r))&&pr(this.baseMutations,t.baseMutations,(n,r)=>nu(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,gt;function xf(e){if(e===void 0)return Ye("GRPC error has no .code"),q.UNKNOWN;switch(e){case $t.OK:return q.OK;case $t.CANCELLED:return q.CANCELLED;case $t.UNKNOWN:return q.UNKNOWN;case $t.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case $t.INTERNAL:return q.INTERNAL;case $t.UNAVAILABLE:return q.UNAVAILABLE;case $t.UNAUTHENTICATED:return q.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case $t.NOT_FOUND:return q.NOT_FOUND;case $t.ALREADY_EXISTS:return q.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return q.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case $t.ABORTED:return q.ABORTED;case $t.OUT_OF_RANGE:return q.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return q.UNIMPLEMENTED;case $t.DATA_LOSS:return q.DATA_LOSS;default:return ct()}}(gt=$t||($t={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Mn([4294967295,4294967295],0);function iu(e){const t=K0().encode(e),n=new af;return n.update(t),new Uint8Array(n.digest())}function ou(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Mn([n,r],0),new Mn([s,i],0)]}class Ma{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kr(`Invalid padding: ${n}`);if(r<0)throw new Kr(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Mn.fromNumber(this.Ie)}Ee(t,n,r){let s=t.add(n.multiply(Mn.fromNumber(r)));return s.compare(G0)===1&&(s=new Mn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=iu(t),[r,s]=ou(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Ma(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(t){if(this.Ie===0)return;const n=iu(t),[r,s]=ou(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Kr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,ys.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xi(at.min(),s,new Ut(wt),yn(),Et())}}class ys{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ys(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n,r,s){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Nf{constructor(t,n){this.targetId=t,this.me=n}}class Of{constructor(t,n,r=Yt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class au{constructor(){this.fe=0,this.ge=cu(),this.pe=Yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Et(),n=Et(),r=Et();return this.ge.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ct()}}),new ys(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=cu()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class W0{constructor(t){this.Le=t,this.Be=new Map,this.ke=yn(),this.qe=lu(),this.Qe=new Ut(wt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:ct()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(t){const n=t.targetId,r=t.me.count,s=this.Je(n);if(s){const i=s.target;if(qo(i))if(r===0){const a=new it(i.path);this.Ue(n,a,ee.newNoDocument(a,at.min()))}else jt(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(t),u=l?this.Xe(l,t,a):1;if(u!==0){this.je(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=$n(r).toUint8Array()}catch(u){if(u instanceof gf)return dr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Ma(a,s,i)}catch(u){return dr(u instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(t){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&qo(l.target)){const u=new it(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,ee.newNoDocument(u,t))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=Et();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(t));const s=new xi(t,n,this.Qe,this.ke,r);return this.ke=yn(),this.qe=lu(),this.Qe=new Ut(wt),s}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new au,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Qt(wt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||X("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new au),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function lu(){return new Ut(it.comparator)}function cu(){return new Ut(it.comparator)}const Q0={asc:"ASCENDING",desc:"DESCENDING"},Y0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X0={and:"AND",or:"OR"};class J0{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wo(e,t){return e.useProto3Json||Ri(t)?t:{value:t}}function Z0(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ir(e){return jt(!!e),at.fromTimestamp(function(n){const r=_n(n);return new de(r.seconds,r.nanos)}(e))}function e1(e,t){return Qo(e,t).canonicalString()}function Qo(e,t){const n=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Mf(e){const t=kt.fromString(e);return jt(Bf(t)),t}function po(e,t){const n=Mf(t);if(n.get(1)!==e.databaseId.projectId)throw new rt(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rt(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new it(Lf(n))}function kf(e,t){return e1(e.databaseId,t)}function n1(e){const t=Mf(e);return t.length===4?kt.emptyPath():Lf(t)}function uu(e){return new kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lf(e){return jt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function r1(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ct()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(f,d){return f.useProto3Json?(jt(d===void 0||typeof d=="string"),Yt.fromBase64String(d||"")):(jt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Yt.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(f){const d=f.code===void 0?q.UNKNOWN:xf(f.code);return new rt(d,f.message||"")}(a);n=new Of(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=po(e,r.document.name),i=ir(r.document.updateTime),a=r.document.createTime?ir(r.document.createTime):at.min(),l=new Le({mapValue:{fields:r.document.fields}}),u=ee.newFoundDocument(s,i,a,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Zs(f,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=po(e,r.document),i=r.readTime?ir(r.readTime):at.min(),a=ee.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Zs([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=po(e,r.document),i=r.removedTargetIds||[];n=new Zs([],i,s,null)}else{if(!("filter"in t))return ct();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new H0(s,i),l=r.targetId;n=new Nf(l,a)}}return n}function s1(e,t){return{documents:[kf(e,t.path)]}}function i1(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kf(e,s);const i=function(f){if(f.length!==0)return Uf(Be.create(f,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(f){if(f.length!==0)return f.map(d=>function(y){return{field:Jn(y.field),direction:l1(y.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Wo(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{_t:n,parent:s}}function o1(e){let t=n1(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){jt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(g){const y=Ff(g);return y instanceof Be&&yf(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(y=>function(x){return new ci(Zn(x.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,Ri(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){const y=!!g.before,w=g.values||[];return new li(w,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,w=g.values||[];return new li(w,y)}(n.endAt)),R0(t,s,a,i,l,"F",u,f)}function a1(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ff(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zn(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zn(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zn(n.unaryFilter.field);return zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zn(n.unaryFilter.field);return zt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(e):e.fieldFilter!==void 0?function(n){return zt.create(Zn(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Be.create(n.compositeFilter.filters.map(r=>Ff(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ct()}}(n.compositeFilter.op))}(e):ct()}function l1(e){return Q0[e]}function c1(e){return Y0[e]}function u1(e){return X0[e]}function Jn(e){return{fieldPath:e.canonicalString()}}function Zn(e){return ce.fromServerFormat(e.fieldPath)}function Uf(e){return e instanceof zt?function(n){if(n.op==="=="){if(Yc(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NAN"}};if(Qc(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yc(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NOT_NAN"}};if(Qc(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jn(n.field),op:c1(n.op),value:n.value}}}(e):e instanceof Be?function(n){const r=n.getFilters().map(s=>Uf(s));return r.length===1?r[0]:{compositeFilter:{op:u1(n.op),filters:r}}}(e):ct()}function Bf(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,n,r,s,i=at.min(),a=at.min(),l=Yt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new un(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new un(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new un(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new un(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.ct=t}}function f1(e){const t=o1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ho(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.un=new p1}addToCollectionParentIndex(t,n){return this.un.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(mn.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(mn.min())}updateCollectionGroup(t,n,r){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class p1{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Qt(kt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Qt(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new _r(0)}static kn(){return new _r(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.changes=new wr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ee.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&rs(r.mutation,s,cn.empty(),de.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Et()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Et()){const s=xn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let a=Hr();return i.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=xn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Et()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,r,s){let i=yn();const a=ns(),l=function(){return ns()}();return n.forEach((u,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Di)?i=i.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),rs(d.mutation,f,d.mutation.getFieldMask(),de.now())):a.set(f.key,cn.empty())}),this.recalculateAndSaveOverlays(t,i).next(u=>(u.forEach((f,d)=>a.set(f,d)),n.forEach((f,d)=>{var g;return l.set(f,new m1(d,(g=a.get(f))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const r=ns();let s=new Ut((a,l)=>a-l),i=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let d=r.get(u)||cn.empty();d=l.applyToLocalView(f,d),r.set(u,d);const g=(s.get(l.batchId)||Et()).add(u);s=s.insert(l.batchId,g)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,g=bf();d.forEach(y=>{if(!i.has(y)){const w=Vf(n.get(y),r.get(y));w!==null&&g.set(y,w),i=i.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,g))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(a){return it.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):M.resolve(xn());let l=-1,u=i;return a.next(f=>M.forEach(f,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),i.get(d)?M.resolve():this.remoteDocumentCache.getEntry(t,d).next(y=>{u=u.insert(d,y)}))).next(()=>this.populateOverlays(t,f,i)).next(()=>this.computeViews(t,u,f,Et())).next(d=>({batchId:l,changes:D0(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new it(n)).next(r=>{let s=Hr();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=Hr();return this.indexManager.getCollectionParents(t,i).next(l=>M.forEach(l,u=>{const f=function(g,y){return new Ci(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(t,f,r,s).next(d=>{d.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(a=>{i.forEach((u,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,ee.newInvalidDocument(d)))});let l=Hr();return a.forEach((u,f)=>{const d=i.get(u);d!==void 0&&rs(d.mutation,f,cn.empty(),de.now()),Pi(n,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:f1(s.bundledQuery),readTime:ir(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.overlays=new Ut(it.comparator),this.Ir=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const r=xn();return M.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),M.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(t,n,r){const s=xn(),i=n.length+1,a=new it(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return M.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Ut((f,d)=>f-d);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=i.get(f.largestBatchId);d===null&&(d=xn(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=xn(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=s)););return M.resolve(l)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new q0(n,r));let i=this.Ir.get(n);i===void 0&&(i=Et(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(t){return M.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.Tr=new Qt(Ht.Er),this.dr=new Qt(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new Ht(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new Ht(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new it(new kt([])),r=new Ht(n,t),s=new Ht(n,t+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new it(new kt([])),r=new Ht(n,t),s=new Ht(n,t+1);let i=Et();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(t){const n=new Ht(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ht{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return it.comparator(t.key,n.key)||wt(t.wr,n.wr)}static Ar(t,n){return wt(t.wr,n.wr)||it.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qt(Ht.Er)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new z0(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new Ht(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return M.resolve(a)}lookupMutationBatch(t,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ht(n,0),s=new Ht(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Qt(wt);return n.forEach(s=>{const i=new Ht(s,0),a=new Ht(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;it.isDocumentKey(i)||(i=i.child(""));const a=new Ht(new it(i),0);let l=new Qt(wt);return this.br.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(l=l.add(u.wr)),!0)},a),M.resolve(this.Cr(l))}Cr(t){const n=[];return t.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){jt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,s=>{const i=new Ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new Ht(n,0),s=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.Mr=t,this.docs=function(){return new Ut(it.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ee.newInvalidDocument(n))}getEntries(t,n){let r=yn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ee.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=yn();const a=n.path,l=new it(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||o0(i0(d),r)<=0||(s.has(d.key)||Pi(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(t,n,r,s){ct()}Or(t,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new I1(this)}getSize(t){return M.resolve(this.size)}}class I1 extends g1{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(t,s)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.persistence=t,this.Nr=new wr(n=>Da(n),xa),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ka,this.targetCount=0,this.kr=_r.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new _r(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.Kn(n),M.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(t,a))}),M.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(t,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Ca(0),this.Kr=!1,this.Kr=!0,this.$r=new E1,this.referenceDelegate=t(this),this.Ur=new A1(this),this.indexManager=new d1,this.remoteDocumentCache=function(s){return new w1(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h1(n),this.Gr=new y1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new v1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new T1(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){X("MemoryPersistence","Starting transaction:",t);const s=new b1(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(t,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class b1 extends l0{constructor(t){super(),this.currentSequenceNumber=t}}class La{constructor(t){this.persistence=t,this.Jr=new ka,this.Yr=null}static Zr(t){return new La(t)}get Xr(){if(this.Yr)return this.Yr;throw ct()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const s=it.fromPath(r);return this.ei(t,s).next(i=>{i||n.removeEntry(s,at.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(t,n){let r=Et(),s=Et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Fa(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Vy()?8:c0(Sy())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.Yi(t,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(t,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new C1;return this.Xi(t,n,a).next(l=>{if(i.result=l,this.zi)return this.es(t,n,a,l.size)})}).next(()=>i.result)}es(t,n,r,s){return r.documentReadCount<this.ji?(jr()<=vt.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Xn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(jr()<=vt.DEBUG&&X("QueryEngine","Query:",Xn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(jr()<=vt.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Xn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fe(n))):M.resolve())}Yi(t,n){if(tu(n))return M.resolve(null);let r=Fe(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ho(n,null,"F"),r=Fe(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const a=Et(...i);return this.Ji.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,r).next(u=>{const f=this.ts(n,l);return this.ns(n,f,a,u.readTime)?this.Yi(t,Ho(n,null,"F")):this.rs(t,f,n,u)}))})))}Zi(t,n,r,s){return tu(n)||s.isEqual(at.min())?M.resolve(null):this.Ji.getDocuments(t,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?M.resolve(null):(jr()<=vt.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xn(n)),this.rs(t,a,n,s0(s,-1)).next(l=>l))})}ts(t,n){let r=new Qt(Af(t));return n.forEach((s,i)=>{Pi(t,i)&&(r=r.add(i))}),r}ns(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(t,n,r){return jr()<=vt.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Xn(n)),this.Ji.getDocumentsMatchingQuery(t,n,mn.min(),r)}rs(t,n,r,s){return this.Ji.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n,r,s){this.persistence=t,this.ss=n,this.serializer=s,this.os=new Ut(wt),this._s=new wr(i=>Da(i),xa),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _1(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function V1(e,t,n,r){return new P1(e,t,n,r)}async function $f(e,t){const n=mt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let u=Et();for(const f of s){a.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of i){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:l}))})})}function jf(e){const t=mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function D1(e,t){const n=mt(e),r=t.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];t.targetChanges.forEach((d,g)=>{const y=s.get(g);if(!y)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,g)));let w=y.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(g)!==null?w=w.withResumeToken(Yt.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),s=s.insert(g,w),function(N,L,Q){return N.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(y,w,d)&&l.push(n.Ur.updateTargetData(i,w))});let u=yn(),f=Et();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(x1(i,a,t.documentUpdates).next(d=>{u=d.Ps,f=d.Is})),!r.isEqual(at.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(g=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return M.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,f)).next(()=>u)}).then(i=>(n.os=s,i))}function x1(e,t,n){let r=Et(),s=Et();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let a=yn();return n.forEach((l,u)=>{const f=i.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(at.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{Ps:a,Is:s}})}function N1(e,t){const n=mt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,t).next(i=>i?(s=i,M.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new un(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function Yo(e,t,n){const r=mt(e),s=r.os.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!_s(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(s.target)}function hu(e,t,n){const r=mt(e);let s=at.min(),i=Et();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,f,d){const g=mt(u),y=g._s.get(d);return y!==void 0?M.resolve(g.os.get(y)):g.Ur.getTargetData(f,d)}(r,a,Fe(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,n?s:at.min(),n?i:Et())).next(l=>(O1(r,S0(t),l),{documents:l,Ts:i})))}function O1(e,t,n){let r=e.us.get(t)||at.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.us.set(t,r)}class fu{constructor(){this.activeTargetIds=O0()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M1{constructor(){this.so=new fu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new fu,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs=null;function go(){return qs===null?qs=function(){return 268435456+Math.round(2147483648*Math.random())}():qs++,"0x"+qs.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class U1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const l=go(),u=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,i,a),this.No(n,u,f,s).then(d=>(X("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw dr("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",s),d})}Lo(n,r,s,i,a,l){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=L1[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,s){const i=go();return new Promise((a,l)=>{const u=new lf;u.setWithCredentials(!0),u.listenOnce(uf.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xs.NO_ERROR:const d=u.getResponseJson();X(Zt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(d)),a(d);break;case Xs.TIMEOUT:X(Zt,`RPC '${t}' ${i} timed out`),l(new rt(q.DEADLINE_EXCEEDED,"Request time out"));break;case Xs.HTTP_ERROR:const g=u.getStatus();if(X(Zt,`RPC '${t}' ${i} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(Q)>=0?Q:q.UNKNOWN}(w.status);l(new rt(x,w.message))}else l(new rt(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new rt(q.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{X(Zt,`RPC '${t}' ${i} completed.`)}});const f=JSON.stringify(s);X(Zt,`RPC '${t}' ${i} sending request:`,s),u.send(n,"POST",f,r,15)})}Bo(t,n,r){const s=go(),i=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=df(),l=ff(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.xmlHttpFactory=new cf({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");X(Zt,`Creating RPC '${t}' stream ${s}: ${d}`,u);const g=a.createWebChannel(d,u);let y=!1,w=!1;const x=new F1({Io:L=>{w?X(Zt,`Not sending because RPC '${t}' stream ${s} is closed:`,L):(y||(X(Zt,`Opening RPC '${t}' stream ${s} transport.`),g.open(),y=!0),X(Zt,`RPC '${t}' stream ${s} sending:`,L),g.send(L))},To:()=>g.close()}),N=(L,Q,H)=>{L.listen(Q,$=>{try{H($)}catch(st){setTimeout(()=>{throw st},0)}})};return N(g,qr.EventType.OPEN,()=>{w||(X(Zt,`RPC '${t}' stream ${s} transport opened.`),x.yo())}),N(g,qr.EventType.CLOSE,()=>{w||(w=!0,X(Zt,`RPC '${t}' stream ${s} transport closed`),x.So())}),N(g,qr.EventType.ERROR,L=>{w||(w=!0,dr(Zt,`RPC '${t}' stream ${s} transport errored:`,L),x.So(new rt(q.UNAVAILABLE,"The operation could not be completed")))}),N(g,qr.EventType.MESSAGE,L=>{var Q;if(!w){const H=L.data[0];jt(!!H);const $=H,st=$.error||((Q=$[0])===null||Q===void 0?void 0:Q.error);if(st){X(Zt,`RPC '${t}' stream ${s} received error:`,st);const It=st.status;let tt=function(T){const A=$t[T];if(A!==void 0)return xf(A)}(It),I=st.message;tt===void 0&&(tt=q.INTERNAL,I="Unknown error status: "+It+" with message "+st.message),w=!0,x.So(new rt(tt,I)),g.close()}else X(Zt,`RPC '${t}' stream ${s} received:`,H),x.bo(H)}}),N(l,hf.STAT_EVENT,L=>{L.stat===Uo.PROXY?X(Zt,`RPC '${t}' stream ${s} detected buffering proxy`):L.stat===Uo.NOPROXY&&X(Zt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function mo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e){return new J0(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,n,r=1e3,s=1.5,i=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n,r,s,i,a,l,u){this.ui=t,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qf(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{t(()=>{const s=new rt(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return X("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $1 extends B1{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=r1(this.serializer,t),r=function(i){if(!("targetChange"in i))return at.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?at.min():a.readTime?ir(a.readTime):at.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=uu(this.serializer),n.addTarget=function(i,a){let l;const u=a.target;if(l=qo(u)?{documents:s1(i,u)}:{query:i1(i,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=t1(i,a.resumeToken);const f=Wo(i,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(at.min())>0){l.readTime=Z0(i,a.snapshotVersion.toTimestamp());const f=Wo(i,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,t);const r=a1(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=uu(this.serializer),n.removeTarget=t,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new rt(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(t,Qo(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new rt(q.UNKNOWN,i.toString())})}Lo(t,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(t,Qo(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(q.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class z1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ye(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Es(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const f=mt(u);f.L_.add(4),await vs(f),f.q_.set("Unknown"),f.L_.delete(4),await Ni(f)}(this))})}),this.q_=new z1(r,s)}}async function Ni(e){if(Es(e))for(const t of e.B_)await t(!0)}async function vs(e){for(const t of e.B_)await t(!1)}function Hf(e,t){const n=mt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),ja(n)?$a(n):Ir(n).r_()&&Ba(n,t))}function Ua(e,t){const n=mt(e),r=Ir(n);n.N_.delete(t),r.r_()&&Kf(n,t),n.N_.size===0&&(r.r_()?r.o_():Es(n)&&n.q_.set("Unknown"))}function Ba(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ir(e).A_(t)}function Kf(e,t){e.Q_.xe(t),Ir(e).R_(t)}function $a(e){e.Q_=new W0({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ir(e).start(),e.q_.v_()}function ja(e){return Es(e)&&!Ir(e).n_()&&e.N_.size>0}function Es(e){return mt(e).L_.size===0}function Gf(e){e.Q_=void 0}async function H1(e){e.q_.set("Online")}async function K1(e){e.N_.forEach((t,n)=>{Ba(e,t)})}async function G1(e,t){Gf(e),ja(e)?(e.q_.M_(t),$a(e)):e.q_.set("Unknown")}async function W1(e,t,n){if(e.q_.set("Online"),t instanceof Of&&t.state===2&&t.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(e,t)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await pu(e,r)}else if(t instanceof Zs?e.Q_.Ke(t):t instanceof Nf?e.Q_.He(t):e.Q_.We(t),!n.isEqual(at.min()))try{const r=await jf(e.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.N_.get(f);d&&i.N_.set(f,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,f)=>{const d=i.N_.get(u);if(!d)return;i.N_.set(u,d.withResumeToken(Yt.EMPTY_BYTE_STRING,d.snapshotVersion)),Kf(i,u);const g=new un(d.target,u,f,d.sequenceNumber);Ba(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await pu(e,r)}}async function pu(e,t,n){if(!_s(t))throw t;e.L_.add(1),await vs(e),e.q_.set("Offline"),n||(n=()=>jf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ni(e)})}async function gu(e,t){const n=mt(e);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Es(n);n.L_.add(3),await vs(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ni(n)}async function Q1(e,t){const n=mt(e);t?(n.L_.delete(2),await Ni(n)):t||(n.L_.add(2),await vs(n),n.q_.set("Unknown"))}function Ir(e){return e.K_||(e.K_=function(n,r,s){const i=mt(n);return i.w_(),new $1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Eo:H1.bind(null,e),Ro:K1.bind(null,e),mo:G1.bind(null,e),d_:W1.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),ja(e)?$a(e):e.q_.set("Unknown")):(await e.K_.stop(),Gf(e))})),e.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,l=new za(t,n,a,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(e,t){if(Ye("AsyncQueue",`${t}: ${e}`),_s(e))return new rt(q.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.comparator=t?(n,r)=>t(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=Hr(),this.sortedSet=new Ut(this.comparator)}static emptySet(t){return new or(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof or)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new or;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.W_=new Ut(it.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):ct():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class yr{constructor(t,n,r,s,i,a,l,u,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new yr(t,n,or.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Si(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class X1{constructor(){this.queries=_u(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=mt(n),i=s.queries;s.queries=_u(),i.forEach((a,l)=>{for(const u of l.j_)u.onError(r)})})(this,new rt(q.ABORTED,"Firestore shutting down"))}}function _u(){return new wr(e=>If(e),Si)}async function J1(e,t){const n=mt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.H_()&&t.J_()&&(r=2):(i=new Y1,r=t.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Wf(a,`Initialization of query '${Xn(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.j_.push(t),t.Z_(n.onlineState),i.z_&&t.X_(i.z_)&&qa(n)}async function Z1(e,t){const n=mt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(t);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tE(e,t){const n=mt(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&qa(n)}function eE(e,t,n){const r=mt(e),s=r.queries.get(t);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(t)}function qa(e){e.Y_.forEach(t=>{t.next()})}var Xo,yu;(yu=Xo||(Xo={})).ea="default",yu.Cache="cache";class nE{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new yr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=yr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Xo.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.key=t}}class Yf{constructor(t){this.key=t}}class rE{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Et(),this.mutatedKeys=Et(),this.Aa=Af(t),this.Ra=new or(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new mu,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,g)=>{const y=s.get(d),w=Pi(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;y&&w?y.data.isEqual(w.data)?x!==N&&(r.track({type:3,doc:w}),L=!0):this.ga(y,w)||(r.track({type:2,doc:w}),L=!0,(u&&this.Aa(w,u)>0||f&&this.Aa(w,f)<0)&&(l=!0)):!y&&w?(r.track({type:0,doc:w}),L=!0):y&&!w&&(r.track({type:1,doc:y}),L=!0,(u||f)&&(l=!0)),L&&(w?(a=a.add(w),i=N?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((d,g)=>function(w,x){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return N(w)-N(x)}(d.type,g.type)||this.Aa(d.doc,g.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,f=u!==this.Ea;return this.Ea=u,a.length!==0||f?{snapshot:new yr(this.query,t.Ra,i,a,t.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mu,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Et(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new Yf(r))}),this.da.forEach(r=>{t.has(r)||n.push(new Qf(r))}),n}ba(t){this.Ta=t.Ts,this.da=Et();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return yr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sE{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class iE{constructor(t){this.key=t,this.va=!1}}class oE{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new wr(l=>If(l),Si),this.Ma=new Map,this.xa=new Set,this.Oa=new Ut(it.comparator),this.Na=new Map,this.La=new ka,this.Ba={},this.ka=new Map,this.qa=_r.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aE(e,t,n=!0){const r=ed(e);let s;const i=r.Fa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Xf(r,t,n,!0),s}async function lE(e,t){const n=ed(e);await Xf(n,t,!0,!1)}async function Xf(e,t,n,r){const s=await N1(e.localStore,Fe(t)),i=s.targetId,a=n?e.sharedClientState.addLocalQueryTarget(i):"not-current";let l;return r&&(l=await cE(e,t,i,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&Hf(e.remoteStore,s),l}async function cE(e,t,n,r,s){e.Ka=(g,y,w)=>async function(N,L,Q,H){let $=L.view.ma(Q);$.ns&&($=await hu(N.localStore,L.query,!1).then(({documents:I})=>L.view.ma(I,$)));const st=H&&H.targetChanges.get(L.targetId),It=H&&H.targetMismatches.get(L.targetId)!=null,tt=L.view.applyChanges($,N.isPrimaryClient,st,It);return Eu(N,L.targetId,tt.wa),tt.snapshot}(e,g,y,w);const i=await hu(e.localStore,t,!0),a=new rE(t,i.Ts),l=a.ma(i.documents),u=ys.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),f=a.applyChanges(l,e.isPrimaryClient,u);Eu(e,n,f.wa);const d=new sE(t,n,a);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),f.snapshot}async function uE(e,t,n){const r=mt(e),s=r.Fa.get(t),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Si(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yo(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ua(r.remoteStore,s.targetId),Jo(r,s.targetId)}).catch(ba)):(Jo(r,s.targetId),await Yo(r.localStore,s.targetId,!0))}async function hE(e,t){const n=mt(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ua(n.remoteStore,r.targetId))}async function Jf(e,t){const n=mt(e);try{const r=await D1(n.localStore,t);t.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(jt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?jt(a.va):s.removedDocuments.size>0&&(jt(a.va),a.va=!1))}),await td(n,r,t)}catch(r){await ba(r)}}function vu(e,t,n){const r=mt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(t);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=mt(a);u.onlineState=l;let f=!1;u.queries.forEach((d,g)=>{for(const y of g.j_)y.Z_(l)&&(f=!0)}),f&&qa(u)}(r.eventManager,t),s.length&&r.Ca.d_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fE(e,t,n){const r=mt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Na.get(t),i=s&&s.key;if(i){let a=new Ut(it.comparator);a=a.insert(i,ee.newNoDocument(i,at.min()));const l=Et().add(i),u=new xi(at.min(),new Map,new Ut(wt),a,l);await Jf(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(t),Ha(r)}else await Yo(r.localStore,t,!1).then(()=>Jo(r,t,n)).catch(ba)}function Jo(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||Zf(e,r)})}function Zf(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Ua(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Ha(e))}function Eu(e,t,n){for(const r of n)r instanceof Qf?(e.La.addReference(r.key,t),dE(e,r)):r instanceof Yf?(X("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Zf(e,r.key)):ct()}function dE(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),e.xa.add(r),Ha(e))}function Ha(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new it(kt.fromString(t)),r=e.qa.next();e.Na.set(r,new iE(n)),e.Oa=e.Oa.insert(n,r),Hf(e.remoteStore,new un(Fe(wf(n.path)),r,"TargetPurposeLimboResolution",Ca.oe))}}async function td(e,t,n){const r=mt(e),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{a.push(r.Ka(u,t,n).then(f=>{var d;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(f){s.push(f);const g=Fa.Wi(u.targetId,f);i.push(g)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(u,f){const d=mt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(f,y=>M.forEach(y.$i,w=>d.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>M.forEach(y.Ui,w=>d.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!_s(g))throw g;X("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const w=d.os.get(y),x=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(y,N)}}}(r.localStore,i))}async function pE(e,t){const n=mt(e);if(!n.currentUser.isEqual(t)){X("SyncEngine","User change. New user:",t.toKey());const r=await $f(n.localStore,t);n.currentUser=t,function(i,a){i.ka.forEach(l=>{l.forEach(u=>{u.reject(new rt(q.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await td(n,r.hs)}}function gE(e,t){const n=mt(e),r=n.Na.get(t);if(r&&r.va)return Et().add(r.key);{let s=Et();const i=n.Ma.get(t);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function ed(e){const t=mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fE.bind(null,t),t.Ca.d_=tE.bind(null,t.eventManager),t.Ca.$a=eE.bind(null,t.eventManager),t}class Tu{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return V1(this.persistence,new S1,t.initialUser,this.serializer)}createPersistence(t){return new R1(La.Zr,this.serializer)}createSharedClientState(t){return new M1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mE{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vu(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pE.bind(null,this.syncEngine),await Q1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new X1}()}createDatastore(t){const n=zf(t.databaseInfo.databaseId),r=function(i){return new U1(i)}(t.databaseInfo);return function(i,a,l,u){return new j1(i,a,l,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,a,l){return new q1(r,s,i,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>vu(this.syncEngine,n,0),function(){return du.D()?new du:new k1}())}createSyncEngine(t,n){return function(s,i,a,l,u,f,d){const g=new oE(s,i,a,l,u,f);return d&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const i=mt(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await vs(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):Ye("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=te.UNAUTHENTICATED,this.clientId=n0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{X("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(X("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Wf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function _o(e,t){e.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $f(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await EE(e);X("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>gu(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>gu(t.remoteStore,s)),e._onlineComponents=t}function vE(e){return e.name==="FirebaseError"?e.code===q.FAILED_PRECONDITION||e.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function EE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await _o(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!vE(n))throw n;dr("Error using user provided cache. Falling back to memory cache: "+n),await _o(e,new Tu)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await _o(e,new Tu);return e._offlineComponents}async function TE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await wu(e,e._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await wu(e,new mE))),e._onlineComponents}async function wE(e){const t=await TE(e),n=t.eventManager;return n.onListen=aE.bind(null,t.syncEngine),n.onUnlisten=uE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hE.bind(null,t.syncEngine),n}function IE(e,t,n={}){const r=new kn;return e.asyncQueue.enqueueAndForget(async()=>function(i,a,l,u,f){const d=new _E({next:y=>{a.enqueueAndForget(()=>Z1(i,g)),y.fromCache&&u.source==="server"?f.reject(new rt(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new nE(l,d,{includeMetadataChanges:!0,_a:!0});return J1(i,g)}(await wE(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map;function AE(e,t,n,r){if(t===!0&&r===!0)throw new rt(q.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Au(e){if(it.isDocumentKey(e))throw new rt(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function RE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ct()}function Zo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rt(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RE(e);throw new rt(q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nd((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new rt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new rt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new rt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ka{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ru({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new rt(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ru(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wv;switch(r.type){case"firstParty":return new Jv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Iu.get(n);r&&(X("ComponentProvider","Removing Datastore"),Iu.delete(n),r.terminate())}(this),Promise.resolve()}}function bE(e,t,n,r={}){var s;const i=(e=Zo(e,Ka))._getSettings(),a=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=te.MOCK_USER;else{l=Cy(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new rt(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new te(f)}e._authCredentials=new Qv(new pf(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Oi(this.firestore,t,this._query)}}class Ar{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ar(this.firestore,t,this._key)}}class ar extends Oi{constructor(t,n,r){super(t,n,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ar(this.firestore,null,new it(t))}withConverter(t){return new ar(this.firestore,t,this._path)}}function CE(e,t,...n){if(e=ky(e),e instanceof Ka){const r=kt.fromString(t,...n);return Au(r),new ar(e,null,r)}{if(!(e instanceof Ar||e instanceof ar))throw new rt(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return Au(r),new ar(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new qf(this,"async_queue_retry"),this.Eu=()=>{const n=mo();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const t=mo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const n=mo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const n=new kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(t){if(!_s(t))throw t;X("AsyncQueue","Operation failed with retryable error: "+t)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(t){const n=this.au.then(()=>(this.Pu=!0,t().catch(r=>{this.hu=r,this.Pu=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Ye("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(t,n,r){this.du(),this.Tu.indexOf(t)>-1&&(n=0);const s=za.createAndSchedule(this,t,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&ct()}verifyOperationInProgress(){}async mu(){let t;do t=this.au,await t;while(t!==this.au)}fu(t){for(const n of this.lu)if(n.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const n=this.lu.indexOf(t);this.lu.splice(n,1)}}class rd extends Ka{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new SE}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sd(this),this._firestoreClient.terminate()}}function PE(e,t){const n=typeof e=="object"?e:kv(),r=typeof e=="string"?e:"(default)",s=xv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Ry("firestore");i&&bE(s,...i)}return s}function VE(e){return e._firestoreClient||sd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sd(e){var t,n,r;const s=e._freezeSettings(),i=function(l,u,f,d){return new f0(l,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nd(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new yE(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fi(Yt.fromBase64String(t))}catch(n){throw new rt(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fi(Yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ce(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,t._values)}}const NE=new RegExp("[~\\*/\\[\\]]");function OE(e,t,n){if(t.search(NE)>=0)throw bu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new id(...t.split("."))._internalPath}catch{throw bu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function bu(e,t,n,r,s){let i=`Function ${t}() called with invalid data`;i+=". ";let a="";return new rt(q.INVALID_ARGUMENT,i+e+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ME(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ad("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ME extends od{data(){return super.data()}}function ad(e,t){return typeof t=="string"?OE(e,t):t instanceof id?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new rt(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LE{convertValue(t,n="none"){switch(jn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($n(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ct()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return bi(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(t){var n,r,s;const i=(s=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Ft(a.doubleValue));return new xE(i)}convertGeoPoint(t){return new DE(Ft(t.latitude),Ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Pa(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ds(t));default:return null}}convertTimestamp(t){const n=_n(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=kt.fromString(t);jt(Bf(r));const s=new ps(r.get(1),r.get(3)),i=new it(r.popFirst(5));return s.isEqual(n)||Ye(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class FE extends od{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ti(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ad("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ti extends FE{data(t={}){return super.data(t)}}class UE{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Hs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ti(this._firestore,this._userDataWriter,r.key,r,new Hs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new ti(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Hs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new ti(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Hs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:BE(l.type),doc:u,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}class $E extends LE{constructor(t){super(),this.firestore=t}convertBytes(t){return new fi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ar(this.firestore,null,n)}}function jE(e){e=Zo(e,Oi);const t=Zo(e.firestore,rd),n=VE(t),r=new $E(t);return kE(e._query),IE(n,e._query).then(s=>new UE(t,r,e,s))}(function(t,n=!0){(function(s){Tr=s})(Mv),ai(new us("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new rd(new Yv(r.getProvider("auth-internal")),new t0(r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new rt(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(f.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),sr(qc,"4.7.1",t),sr(qc,"4.7.1","esm2017")})();const zE={apiKey:"AIzaSyD0PwqFVRBxyefTFw31dvdJ-lrFFtDjvFU",authDomain:"looks-b11a8.firebaseapp.com",databaseURL:"https://looks-b11a8-default-rtdb.europe-west1.firebasedatabase.app",projectId:"looks-b11a8",storageBucket:"looks-b11a8.appspot.com",messagingSenderId:"529873039695",appId:"1:529873039695:web:401c380738ac548b17553a"},qE=rf(zE),HE=PE(qE),KE=async()=>{const e=await jE(CE(HE,"userData")),t=[];return e.forEach(n=>{console.log(`${n.id} => ${n.data()}`),t.push(n.data())}),t},Ga=Kg(h_);Ga.use(Xg());Ga.use(gy);Ga.mount("#app");export{wn as _,ht as a,$e as c,xe as o};
